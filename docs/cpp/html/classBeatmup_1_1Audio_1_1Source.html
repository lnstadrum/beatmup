<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Beatmup: Beatmup::Audio::Source Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Beatmup
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classBeatmup_1_1Audio_1_1Source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classBeatmup_1_1Audio_1_1Source-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Beatmup::Audio::Source Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract source of audio signal.  
 <a href="classBeatmup_1_1Audio_1_1Source.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="source_8h_source.html">source.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Beatmup::Audio::Source:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeatmup_1_1Audio_1_1Source.png" usemap="#Beatmup::Audio::Source_map" alt=""/>
  <map id="Beatmup::Audio::Source_map" name="Beatmup::Audio::Source_map">
<area href="classBeatmup_1_1Audio_1_1HarmonicSource.html" title="A Source producing a sinusoidal signal, mainly for test purposes." alt="Beatmup::Audio::HarmonicSource" shape="rect" coords="0,56,200,80"/>
<area href="classBeatmup_1_1Audio_1_1Signal_1_1Source.html" title="Audio::Source reading samples from a given Signal." alt="Beatmup::Audio::Signal::Source" shape="rect" coords="210,56,410,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3fc6a96d758844bcecb6dee9384900a1"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html#a3fc6a96d758844bcecb6dee9384900a1">~Source</a> ()</td></tr>
<tr class="separator:a3fc6a96d758844bcecb6dee9384900a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0f2834e5a6ae1f72da4e20cf1ebbf5b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html#ae0f2834e5a6ae1f72da4e20cf1ebbf5b">prepare</a> (const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a> sampleRate, const <a class="el" href="namespaceBeatmup.html#aee80d5eac181064977f3997d27ece0be">AudioSampleFormat</a> sampleFormat, const unsigned char numChannels, const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a> maxBufferLen)=0</td></tr>
<tr class="memdesc:ae0f2834e5a6ae1f72da4e20cf1ebbf5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a source to render audio data.  <a href="classBeatmup_1_1Audio_1_1Source.html#ae0f2834e5a6ae1f72da4e20cf1ebbf5b">More...</a><br /></td></tr>
<tr class="separator:ae0f2834e5a6ae1f72da4e20cf1ebbf5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599522b4af3e0a5eba249fb20dfa8c66"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html#a599522b4af3e0a5eba249fb20dfa8c66">setClock</a> (<a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a> <a class="el" href="wrapper__core_8cpp.html#af569ac0fefe4bb0645a6141667de3eaf">time</a>)</td></tr>
<tr class="memdesc:a599522b4af3e0a5eba249fb20dfa8c66"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the source user when an abrupt time change occurs (e.g., due to seeking)  <a href="classBeatmup_1_1Audio_1_1Source.html#a599522b4af3e0a5eba249fb20dfa8c66">More...</a><br /></td></tr>
<tr class="separator:a599522b4af3e0a5eba249fb20dfa8c66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7433d7fb3bf0974756257b4c3e234e5a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceBeatmup.html#a6554f68f718b6c892b3cab99af6dbcdd">ThreadIndex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html#a7433d7fb3bf0974756257b4c3e234e5a">getMaxThreads</a> ()</td></tr>
<tr class="memdesc:a7433d7fb3bf0974756257b4c3e234e5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the maximum number of working threads for rendering from this source.  <a href="classBeatmup_1_1Audio_1_1Source.html#a7433d7fb3bf0974756257b4c3e234e5a">More...</a><br /></td></tr>
<tr class="separator:a7433d7fb3bf0974756257b4c3e234e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad52e651b6f7631c87157655b357c8829"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html#ad52e651b6f7631c87157655b357c8829">render</a> (<a class="el" href="classBeatmup_1_1TaskThread.html">TaskThread</a> &amp;thread, <a class="el" href="structBeatmup_1_1sample8.html">sample8</a> *buffer, const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a> bufferLength)=0</td></tr>
<tr class="memdesc:ad52e651b6f7631c87157655b357c8829"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders audio data to the target output buffer given by the user.  <a href="classBeatmup_1_1Audio_1_1Source.html#ad52e651b6f7631c87157655b357c8829">More...</a><br /></td></tr>
<tr class="separator:ad52e651b6f7631c87157655b357c8829"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract source of audio signal. </p>
<p>Produces samples in time, possibly in multiple threads running in parallel. </p>

<p class="definition">Definition at line <a class="el" href="source_8h_source.html#l00030">30</a> of file <a class="el" href="source_8h_source.html">source.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a3fc6a96d758844bcecb6dee9384900a1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3fc6a96d758844bcecb6dee9384900a1">&#9670;&nbsp;</a></span>~Source()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual Beatmup::Audio::Source::~Source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="source_8h_source.html#l00032">32</a> of file <a class="el" href="source_8h_source.html">source.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{};</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ae0f2834e5a6ae1f72da4e20cf1ebbf5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae0f2834e5a6ae1f72da4e20cf1ebbf5b">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Beatmup::Audio::Source::prepare </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a>&#160;</td>
          <td class="paramname"><em>sampleRate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceBeatmup.html#aee80d5eac181064977f3997d27ece0be">AudioSampleFormat</a>&#160;</td>
          <td class="paramname"><em>sampleFormat</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char&#160;</td>
          <td class="paramname"><em>numChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a>&#160;</td>
          <td class="paramname"><em>maxBufferLen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepares a source to render audio data. </p>
<p>Called by the user before any rendering to communicate the configuration of the upcoming rendering process. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sampleRate</td><td>The output sample rate in Hz </td></tr>
    <tr><td class="paramname">sampleFormat</td><td>The output sample format </td></tr>
    <tr><td class="paramname">numChannels</td><td>Number of channels in the output </td></tr>
    <tr><td class="paramname">maxBufferLen</td><td>Maximum expected length of target audio buffers on rendering phase, in samples per one channel </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classBeatmup_1_1Audio_1_1HarmonicSource.html#aa81cca4e759d2f0f1c20730d0c09baeb">Beatmup::Audio::HarmonicSource</a>, and <a class="el" href="classBeatmup_1_1Audio_1_1Signal_1_1Source.html#a92387719e72dabdfdf8136236e16cad9">Beatmup::Audio::Signal::Source</a>.</p>

</div>
</div>
<a id="a599522b4af3e0a5eba249fb20dfa8c66"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a599522b4af3e0a5eba249fb20dfa8c66">&#9670;&nbsp;</a></span>setClock()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Source::setClock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a>&#160;</td>
          <td class="paramname"><em>time</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called by the source user when an abrupt time change occurs (e.g., due to seeking) </p>

<p>Reimplemented in <a class="el" href="classBeatmup_1_1Audio_1_1HarmonicSource.html#a6051575f69b9fa6417c54c80b8445f2e">Beatmup::Audio::HarmonicSource</a>, and <a class="el" href="classBeatmup_1_1Audio_1_1Signal_1_1Source.html#af9f8a6d643d737e08a71f83fe56d01e1">Beatmup::Audio::Signal::Source</a>.</p>

<p class="definition">Definition at line <a class="el" href="source_8cpp_source.html#l00029">29</a> of file <a class="el" href="source_8cpp_source.html">source.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                                {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">// nothing to do by default</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a7433d7fb3bf0974756257b4c3e234e5a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7433d7fb3bf0974756257b4c3e234e5a">&#9670;&nbsp;</a></span>getMaxThreads()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="namespaceBeatmup.html#a6554f68f718b6c892b3cab99af6dbcdd">ThreadIndex</a> Beatmup::Audio::Source::getMaxThreads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the maximum number of working threads for rendering from this source. </p>
<p>The actual number of threads may be less than the one returned by this function. It is the source duty to deal with the actual number of workers. </p>

<p>Reimplemented in <a class="el" href="classBeatmup_1_1Audio_1_1Signal_1_1Source.html#ad044315452b556068567afd18afb018a">Beatmup::Audio::Signal::Source</a>.</p>

<p class="definition">Definition at line <a class="el" href="source_8h_source.html#l00063">63</a> of file <a class="el" href="source_8h_source.html">source.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{ <span class="keywordflow">return</span> 1; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ad52e651b6f7631c87157655b357c8829"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad52e651b6f7631c87157655b357c8829">&#9670;&nbsp;</a></span>render()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void Beatmup::Audio::Source::render </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1TaskThread.html">TaskThread</a> &amp;&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structBeatmup_1_1sample8.html">sample8</a> *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceBeatmup.html#abac246a0a6697fdec8f2282afc587dac">dtime</a>&#160;</td>
          <td class="paramname"><em>bufferLength</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Renders audio data to the target output buffer given by the user. </p>
<p>Called after at least one call to <a class="el" href="classBeatmup_1_1Audio_1_1Source.html#ae0f2834e5a6ae1f72da4e20cf1ebbf5b" title="Prepares a source to render audio data.">prepare()</a>. The sampling parameters must match the ones communicated on the preparation phase. The requested buffer length does not exceed the one set before. The time is given by the clock set before, and with every call it advances by {bufferLength} samples. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">thread</td><td>the task thread issuing this rendering call </td></tr>
    <tr><td class="paramname">buffer</td><td>a pointer to the beginning of a channelwise-multiplexed output buffer </td></tr>
    <tr><td class="paramname">bufferLength</td><td>the requested buffer length, in samples per single channel </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classBeatmup_1_1Audio_1_1HarmonicSource.html#a36cb138139de96f95c2e5c61048d4e4b">Beatmup::Audio::HarmonicSource</a>, and <a class="el" href="classBeatmup_1_1Audio_1_1Signal_1_1Source.html#aa88bdc433f019cf695f66fbca11105ca">Beatmup::Audio::Signal::Source</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/audio/<a class="el" href="source_8h_source.html">source.h</a></li>
<li>core/audio/<a class="el" href="source_8cpp_source.html">source.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceBeatmup.html">Beatmup</a></li><li class="navelem"><a class="el" href="namespaceBeatmup_1_1Audio.html">Audio</a></li><li class="navelem"><a class="el" href="classBeatmup_1_1Audio_1_1Source.html">Source</a></li>
    <li class="footer">Generated on Tue Nov 21 2023 13:54:28 for Beatmup by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
