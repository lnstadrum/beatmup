<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Beatmup: Beatmup::NNets::Conv2D Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Beatmup
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classBeatmup_1_1NNets_1_1Conv2D.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classBeatmup_1_1NNets_1_1Conv2D-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">Beatmup::NNets::Conv2D Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>2D convolution operation computed on GPU.  
 <a href="classBeatmup_1_1NNets_1_1Conv2D.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="conv2d_8h_source.html">conv2d.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for Beatmup::NNets::Conv2D:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classBeatmup_1_1NNets_1_1Conv2D.png" usemap="#Beatmup::NNets::Conv2D_map" alt=""/>
  <map id="Beatmup::NNets::Conv2D_map" name="Beatmup::NNets::Conv2D_map">
<area href="classBeatmup_1_1NNets_1_1AbstractOperation.html" title="Abstract neural net operation (layer)." alt="Beatmup::NNets::AbstractOperation" shape="rect" coords="0,0,241,24"/>
<area href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html" title="Generates GLSL fragment shader code sampling a local neighborhood around the current texture coordina..." alt="Beatmup::NNets::SpatialFilteringMixin" shape="rect" coords="251,0,492,24"/>
<area href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html" title="A mixin implementing activation functions in GLSL." alt="Beatmup::NNets::ActivationFunctionMixin" shape="rect" coords="502,0,743,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae4551f6fcd5fedd38d4ea726deb41fb7"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ae4551f6fcd5fedd38d4ea726deb41fb7">Conv2D</a> (const std::string &amp;<a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a3c03bed9eb982851f6efe32e7af25638">name</a>, const int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>, const int numInputChannels, const int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, const int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>=1, const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a> <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>=<a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac9f1a6384b1c466d4612f513bd8e13ea">Size::Padding::VALID</a>, const bool <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>=true, const int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>=1, const <a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471a">ActivationFunction</a> activation=<a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471aa5b39c8b553c821e7cddc6da64b5bd2ee">ActivationFunction::DEFAULT</a>)</td></tr>
<tr class="memdesc:ae4551f6fcd5fedd38d4ea726deb41fb7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Instantiates a 2D convolution operation.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ae4551f6fcd5fedd38d4ea726deb41fb7">More...</a><br /></td></tr>
<tr class="separator:ae4551f6fcd5fedd38d4ea726deb41fb7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab6397dfe4ac043846a659c2ce64daa9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#aab6397dfe4ac043846a659c2ce64daa9">isBiasUsed</a> () const</td></tr>
<tr class="separator:aab6397dfe4ac043846a659c2ce64daa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42192fc2c5d0d2d44488218228514125"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42192fc2c5d0d2d44488218228514125">getInputCount</a> () const</td></tr>
<tr class="memdesc:a42192fc2c5d0d2d44488218228514125"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of operation inputs.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a42192fc2c5d0d2d44488218228514125">More...</a><br /></td></tr>
<tr class="separator:a42192fc2c5d0d2d44488218228514125"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae31e2f7b75ad387e6cfdf2ede18e4b1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ae31e2f7b75ad387e6cfdf2ede18e4b1a">getOutputCount</a> () const</td></tr>
<tr class="memdesc:ae31e2f7b75ad387e6cfdf2ede18e4b1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns number of operation outputs.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ae31e2f7b75ad387e6cfdf2ede18e4b1a">More...</a><br /></td></tr>
<tr class="separator:ae31e2f7b75ad387e6cfdf2ede18e4b1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa84c9c90b6e505f59827e0f6ba2838b1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#aa84c9c90b6e505f59827e0f6ba2838b1">acceptsStorageInput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:aa84c9c90b6e505f59827e0f6ba2838b1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a> at a specific input.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#aa84c9c90b6e505f59827e0f6ba2838b1">More...</a><br /></td></tr>
<tr class="separator:aa84c9c90b6e505f59827e0f6ba2838b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3b74aea02c64f9181f550b118632904"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab3b74aea02c64f9181f550b118632904">acceptsStorageOutput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:ab3b74aea02c64f9181f550b118632904"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a> at a specific output.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab3b74aea02c64f9181f550b118632904">More...</a><br /></td></tr>
<tr class="separator:ab3b74aea02c64f9181f550b118632904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ccf05551f316513ee7529d0e5d2ab15"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a8ccf05551f316513ee7529d0e5d2ab15">acceptsTextureInput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:a8ccf05551f316513ee7529d0e5d2ab15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> at a specific input.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a8ccf05551f316513ee7529d0e5d2ab15">More...</a><br /></td></tr>
<tr class="separator:a8ccf05551f316513ee7529d0e5d2ab15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f929f4a9627598a2ce4cf3b74421024"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1NNets_1_1Size.html">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">getOutputSize</a> (int outputIndex=0) const</td></tr>
<tr class="memdesc:a4f929f4a9627598a2ce4cf3b74421024"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns full size of a specific operation output.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">More...</a><br /></td></tr>
<tr class="separator:a4f929f4a9627598a2ce4cf3b74421024"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c24f0d2377068ceb61fa86a24bd6bb8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1c24f0d2377068ceb61fa86a24bd6bb8">getOutput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="memdesc:a1c24f0d2377068ceb61fa86a24bd6bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a storage view bound to a specific operation output.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a1c24f0d2377068ceb61fa86a24bd6bb8">More...</a><br /></td></tr>
<tr class="separator:a1c24f0d2377068ceb61fa86a24bd6bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc581e6fe56ce2b7fadeb9f6459406b8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#abc581e6fe56ce2b7fadeb9f6459406b8">setInput</a> (<a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;storage, int inputIndex=0)</td></tr>
<tr class="separator:abc581e6fe56ce2b7fadeb9f6459406b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15b12ba3d4cf357c06a5d59557a62ad3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a15b12ba3d4cf357c06a5d59557a62ad3">setInput</a> (<a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> &amp;image, int inputIndex=0)</td></tr>
<tr class="separator:a15b12ba3d4cf357c06a5d59557a62ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24035a1ecb97a014838601ef55381c06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a24035a1ecb97a014838601ef55381c06">setOutput</a> (<a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;storage, int outputIndex=0)</td></tr>
<tr class="separator:a24035a1ecb97a014838601ef55381c06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bbf1a70f47b3fe50abd2391c724fa1d"><td class="memItemLeft" align="right" valign="top">std::map&lt; std::string, std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a5bbf1a70f47b3fe50abd2391c724fa1d">serialize</a> () const</td></tr>
<tr class="memdesc:a5bbf1a70f47b3fe50abd2391c724fa1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a serialized representation of th operation;.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a5bbf1a70f47b3fe50abd2391c724fa1d">More...</a><br /></td></tr>
<tr class="separator:a5bbf1a70f47b3fe50abd2391c724fa1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae89faabaaa49706f9a4aaa9dbedc42e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ae89faabaaa49706f9a4aaa9dbedc42e2">disconnect</a> ()</td></tr>
<tr class="memdesc:ae89faabaaa49706f9a4aaa9dbedc42e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Assigns empty inputs and outputs.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ae89faabaaa49706f9a4aaa9dbedc42e2">More...</a><br /></td></tr>
<tr class="separator:ae89faabaaa49706f9a4aaa9dbedc42e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2bf015343ef38d30535ed71081cad7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#aa2bf015343ef38d30535ed71081cad7c">setResidualInput</a> (<a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;storage)</td></tr>
<tr class="memdesc:aa2bf015343ef38d30535ed71081cad7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connects a tensor to a residual input.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#aa2bf015343ef38d30535ed71081cad7c">More...</a><br /></td></tr>
<tr class="separator:aa2bf015343ef38d30535ed71081cad7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abda402bc27de42e37829fc5e3bb3db56"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#abda402bc27de42e37829fc5e3bb3db56">countMultiplyAdds</a> () const</td></tr>
<tr class="memdesc:abda402bc27de42e37829fc5e3bb3db56"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts (approximate) number of multiply-adds used by this operation.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#abda402bc27de42e37829fc5e3bb3db56">More...</a><br /></td></tr>
<tr class="separator:abda402bc27de42e37829fc5e3bb3db56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5b4af450777c389c440074c94622dc4"><td class="memItemLeft" align="right" valign="top">unsigned long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#af5b4af450777c389c440074c94622dc4">countTexelFetches</a> () const</td></tr>
<tr class="memdesc:af5b4af450777c389c440074c94622dc4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Counts (approximate) number of texels fetches.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#af5b4af450777c389c440074c94622dc4">More...</a><br /></td></tr>
<tr class="separator:af5b4af450777c389c440074c94622dc4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html">Beatmup::NNets::AbstractOperation</a></td></tr>
<tr class="memitem:a4f8e42090a1a11fc30a8496a82ca4435 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a4f8e42090a1a11fc30a8496a82ca4435">~AbstractOperation</a> ()</td></tr>
<tr class="separator:a4f8e42090a1a11fc30a8496a82ca4435 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada1acf3507c9ba630e8343470df805e4 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ada1acf3507c9ba630e8343470df805e4">usesGpu</a> () const</td></tr>
<tr class="memdesc:ada1acf3507c9ba630e8343470df805e4 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation is run on GPU.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ada1acf3507c9ba630e8343470df805e4">More...</a><br /></td></tr>
<tr class="separator:ada1acf3507c9ba630e8343470df805e4 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1956fb9e94e3affc219d4f1313b88eba inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a1956fb9e94e3affc219d4f1313b88eba">acceptsVectorInput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:a1956fb9e94e3affc219d4f1313b88eba inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> at a specific input.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a1956fb9e94e3affc219d4f1313b88eba">More...</a><br /></td></tr>
<tr class="separator:a1956fb9e94e3affc219d4f1313b88eba inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5df9ad0e8ad14ac0b796c55c8785915 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ac5df9ad0e8ad14ac0b796c55c8785915">acceptsVectorOutput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:ac5df9ad0e8ad14ac0b796c55c8785915 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> at a specific output.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ac5df9ad0e8ad14ac0b796c55c8785915">More...</a><br /></td></tr>
<tr class="separator:ac5df9ad0e8ad14ac0b796c55c8785915 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adeebb21764120be1dfe84bb8fc60bcd5 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#adeebb21764120be1dfe84bb8fc60bcd5">acceptsTextureOutput</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:adeebb21764120be1dfe84bb8fc60bcd5 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> at a specific output.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#adeebb21764120be1dfe84bb8fc60bcd5">More...</a><br /></td></tr>
<tr class="separator:adeebb21764120be1dfe84bb8fc60bcd5 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175010e3c7bce9b67ab9a9dcb86199c6 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a175010e3c7bce9b67ab9a9dcb86199c6">getOutput</a> (<a class="el" href="classBeatmup_1_1GL_1_1Vector.html">GL::Vector</a> *&amp;vector, int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="memdesc:a175010e3c7bce9b67ab9a9dcb86199c6 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> bound to a specific operation output.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a175010e3c7bce9b67ab9a9dcb86199c6">More...</a><br /></td></tr>
<tr class="separator:a175010e3c7bce9b67ab9a9dcb86199c6 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abff14f432229b6d70ec2d1346c5004e2 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#abff14f432229b6d70ec2d1346c5004e2">getOutput</a> (<a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> *&amp;vector, int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="memdesc:abff14f432229b6d70ec2d1346c5004e2 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a <a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> bound to a specific operation output.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#abff14f432229b6d70ec2d1346c5004e2">More...</a><br /></td></tr>
<tr class="separator:abff14f432229b6d70ec2d1346c5004e2 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53666a973047218b244926a0477d3957 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a53666a973047218b244926a0477d3957">setInput</a> (<a class="el" href="classBeatmup_1_1GL_1_1Vector.html">GL::Vector</a> &amp;vector, int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="separator:a53666a973047218b244926a0477d3957 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4be35a97c210b9cb09229a4e188f27b inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae4be35a97c210b9cb09229a4e188f27b">setOutput</a> (<a class="el" href="classBeatmup_1_1GL_1_1Vector.html">GL::Vector</a> &amp;vector, int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="separator:ae4be35a97c210b9cb09229a4e188f27b inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d6442ce899d483b62babe8e9f73bbc0 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a0d6442ce899d483b62babe8e9f73bbc0">setOutput</a> (<a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> &amp;image, int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0)</td></tr>
<tr class="separator:a0d6442ce899d483b62babe8e9f73bbc0 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae9d2449c203a7f39c95af367b1aa8f01 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a> () const</td></tr>
<tr class="separator:ae9d2449c203a7f39c95af367b1aa8f01 inherit pub_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a52fee1ae59b110ddfa87c6add5d7ca85"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52fee1ae59b110ddfa87c6add5d7ca85">initDeserializer</a> ()</td></tr>
<tr class="memdesc:a52fee1ae59b110ddfa87c6add5d7ca85"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets up deserialization of the operation.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a52fee1ae59b110ddfa87c6add5d7ca85">More...</a><br /></td></tr>
<tr class="separator:a52fee1ae59b110ddfa87c6add5d7ca85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a5f47dc1b1a2c0e36ecc08b5be6bcf0fb"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb">FILTERS_CHUNK_SUFFIX</a> = &quot;/w&quot;</td></tr>
<tr class="memdesc:a5f47dc1b1a2c0e36ecc08b5be6bcf0fb"><td class="mdescLeft">&#160;</td><td class="mdescRight">suffix added to the op name to get the filters chunk id in the model data  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb">More...</a><br /></td></tr>
<tr class="separator:a5f47dc1b1a2c0e36ecc08b5be6bcf0fb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e09de4396a1b13d95c3c82639f80087"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1e09de4396a1b13d95c3c82639f80087">BIAS_CHUNK_SUFFIX</a> = &quot;/b&quot;</td></tr>
<tr class="memdesc:a1e09de4396a1b13d95c3c82639f80087"><td class="mdescLeft">&#160;</td><td class="mdescRight">suffix added to the op name to get the bias chunk id in the model data  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a1e09de4396a1b13d95c3c82639f80087">More...</a><br /></td></tr>
<tr class="separator:a1e09de4396a1b13d95c3c82639f80087"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afb039b35b5972bff138b6dcfb5854c99"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">getIdx</a> (int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>, int <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>, int <a class="el" href="wrapper__imag_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, int <a class="el" href="wrapper__imag_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>) const</td></tr>
<tr class="memdesc:afb039b35b5972bff138b6dcfb5854c99"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maps an (inputChannel, outputChannel, x, y) position to a linear coefficient index in the chunkfile.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">More...</a><br /></td></tr>
<tr class="separator:afb039b35b5972bff138b6dcfb5854c99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58e9ad39e484db567b999ecf2cc64daf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a58e9ad39e484db567b999ecf2cc64daf">prepare</a> (<a class="el" href="classBeatmup_1_1GraphicPipeline.html">GraphicPipeline</a> &amp;gpu, <a class="el" href="classBeatmup_1_1ChunkCollection.html">ChunkCollection</a> &amp;data, <a class="el" href="classBeatmup_1_1GL_1_1ProgramBank.html">GL::ProgramBank</a> &amp;bank)</td></tr>
<tr class="memdesc:a58e9ad39e484db567b999ecf2cc64daf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Compiles GLSL shaders.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a58e9ad39e484db567b999ecf2cc64daf">More...</a><br /></td></tr>
<tr class="separator:a58e9ad39e484db567b999ecf2cc64daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3509cdd99c0d11a50dea81c6d12acf30"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3509cdd99c0d11a50dea81c6d12acf30">execute</a> (<a class="el" href="classBeatmup_1_1TaskThread.html">TaskThread</a> &amp;thread, <a class="el" href="classBeatmup_1_1GraphicPipeline.html">GraphicPipeline</a> &amp;gpu)</td></tr>
<tr class="memdesc:a3509cdd99c0d11a50dea81c6d12acf30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the operation.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a3509cdd99c0d11a50dea81c6d12acf30">More...</a><br /></td></tr>
<tr class="separator:a3509cdd99c0d11a50dea81c6d12acf30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e8fa555c3bdcdb6834ec2c929e187b5"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a9e8fa555c3bdcdb6834ec2c929e187b5">getInputPadding</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>=0) const</td></tr>
<tr class="memdesc:a9e8fa555c3bdcdb6834ec2c929e187b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves minimum required size of zero padding for a given input.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a9e8fa555c3bdcdb6834ec2c929e187b5">More...</a><br /></td></tr>
<tr class="separator:a9e8fa555c3bdcdb6834ec2c929e187b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9dd6cbe2216226c64c6640375a316aa3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a9dd6cbe2216226c64c6640375a316aa3">getSampledChannels</a> (int <a class="el" href="wrapper__nnets_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a>, int &amp;min, int &amp;max) const</td></tr>
<tr class="memdesc:a9dd6cbe2216226c64c6640375a316aa3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves range of input features channels sampled at the same time for a specific input.  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a9dd6cbe2216226c64c6640375a316aa3">More...</a><br /></td></tr>
<tr class="separator:a9dd6cbe2216226c64c6640375a316aa3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ac5ece368e5f9f17b8eae0a4d659acefd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html">Size</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a></td></tr>
<tr class="separator:ac5ece368e5f9f17b8eae0a4d659acefd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ccde68f01e7c1e111f4cf60105497d"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a></td></tr>
<tr class="memdesc:ab5ccde68f01e7c1e111f4cf60105497d"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of output feature maps  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">More...</a><br /></td></tr>
<tr class="separator:ab5ccde68f01e7c1e111f4cf60105497d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a291be2bd4398a01eaf3702ff954ffd20"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a></td></tr>
<tr class="memdesc:a291be2bd4398a01eaf3702ff954ffd20"><td class="mdescLeft">&#160;</td><td class="mdescRight">number of convolution groups  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">More...</a><br /></td></tr>
<tr class="separator:a291be2bd4398a01eaf3702ff954ffd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42ea086a616a5f9865abdbe455b750f2"><td class="memItemLeft" align="right" valign="top">const int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a></td></tr>
<tr class="separator:a42ea086a616a5f9865abdbe455b750f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3553a2c50177e60430ba89804e23fe33"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a></td></tr>
<tr class="separator:a3553a2c50177e60430ba89804e23fe33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6afb59852ca72367f2538626a9605be0"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a></td></tr>
<tr class="memdesc:a6afb59852ca72367f2538626a9605be0"><td class="mdescLeft">&#160;</td><td class="mdescRight">if <code>true</code>, input is the texture handler, not the view  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">More...</a><br /></td></tr>
<tr class="separator:a6afb59852ca72367f2538626a9605be0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a06723cca6e7440a75e34637408738eab"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a></td></tr>
<tr class="memdesc:a06723cca6e7440a75e34637408738eab"><td class="mdescLeft">&#160;</td><td class="mdescRight">if <code>true</code>, the convolution is depthwise, otherwise regular  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">More...</a><br /></td></tr>
<tr class="separator:a06723cca6e7440a75e34637408738eab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3323bff963961004fbacfbb20f15fb68"><td class="memItemLeft" align="right" valign="top">const bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a></td></tr>
<tr class="memdesc:a3323bff963961004fbacfbb20f15fb68"><td class="mdescLeft">&#160;</td><td class="mdescRight">if <code>true</code>, the bias addition is enabled  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">More...</a><br /></td></tr>
<tr class="separator:a3323bff963961004fbacfbb20f15fb68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d15044d59278321b2fb1e1a691d98f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3d15044d59278321b2fb1e1a691d98f3">ready</a></td></tr>
<tr class="separator:a3d15044d59278321b2fb1e1a691d98f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab96e60c5ecf42d5bd0ef7606a0d2d445"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a></td></tr>
<tr class="separator:ab96e60c5ecf42d5bd0ef7606a0d2d445"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f2954f532c1ba232ec582c807747bc6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a></td></tr>
<tr class="separator:a7f2954f532c1ba232ec582c807747bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea056c9519beb2ddbe3da60acc41f0dc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a></td></tr>
<tr class="memdesc:aea056c9519beb2ddbe3da60acc41f0dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">optional tensor to be added to the output before activation  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">More...</a><br /></td></tr>
<tr class="separator:aea056c9519beb2ddbe3da60acc41f0dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52479b1875b4bca25cf4f427b7623fac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a></td></tr>
<tr class="memdesc:a52479b1875b4bca25cf4f427b7623fac"><td class="mdescLeft">&#160;</td><td class="mdescRight">input texture handler to be used instead input view  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">More...</a><br /></td></tr>
<tr class="separator:a52479b1875b4bca25cf4f427b7623fac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29b81c488bc32d6d64fefb77177fcd12"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classBeatmup_1_1GL_1_1RenderingProgram.html">GL::RenderingProgram</a> * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a></td></tr>
<tr class="memdesc:a29b81c488bc32d6d64fefb77177fcd12"><td class="mdescLeft">&#160;</td><td class="mdescRight">pointers to GLSL program, one per quad of output channels  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">More...</a><br /></td></tr>
<tr class="separator:a29b81c488bc32d6d64fefb77177fcd12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1affc2a028c325910f1bcf2a6bf5ae4c"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="wrapper__core_8cpp.html#ae9303a139197a0e4d1e6ecc53598b305">std::array</a>&lt; float, 4 &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a></td></tr>
<tr class="memdesc:a1affc2a028c325910f1bcf2a6bf5ae4c"><td class="mdescLeft">&#160;</td><td class="mdescRight">model data to pass to uniform variables, if used  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">More...</a><br /></td></tr>
<tr class="separator:a1affc2a028c325910f1bcf2a6bf5ae4c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a935a026ddb2490ea2623edb305ea6746"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a></td></tr>
<tr class="memdesc:a935a026ddb2490ea2623edb305ea6746"><td class="mdescLeft">&#160;</td><td class="mdescRight">execution order of GLSL programs  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">More...</a><br /></td></tr>
<tr class="separator:a935a026ddb2490ea2623edb305ea6746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab7b31c3a1ce6366bf24b0abb841aafac"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a></td></tr>
<tr class="memdesc:ab7b31c3a1ce6366bf24b0abb841aafac"><td class="mdescLeft">&#160;</td><td class="mdescRight">views per convolution group  <a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">More...</a><br /></td></tr>
<tr class="separator:ab7b31c3a1ce6366bf24b0abb841aafac"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html">Beatmup::NNets::AbstractOperation</a></td></tr>
<tr class="memitem:a5b9045128ea917383c903efc496be4ae inherit pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a5b9045128ea917383c903efc496be4ae">AbstractOperation</a> (const std::string &amp;<a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a3c03bed9eb982851f6efe32e7af25638">name</a>)</td></tr>
<tr class="separator:a5b9045128ea917383c903efc496be4ae inherit pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af42a6d282236c488b4c808bbf4934615 inherit pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#af42a6d282236c488b4c808bbf4934615">execute</a> (<a class="el" href="classBeatmup_1_1TaskThread.html">TaskThread</a> &amp;thread)</td></tr>
<tr class="memdesc:af42a6d282236c488b4c808bbf4934615 inherit pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="mdescLeft">&#160;</td><td class="mdescRight">Executes the operation within a specific CPU thread.  <a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#af42a6d282236c488b4c808bbf4934615">More...</a><br /></td></tr>
<tr class="separator:af42a6d282236c488b4c808bbf4934615 inherit pro_methods_classBeatmup_1_1NNets_1_1AbstractOperation"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html">Beatmup::NNets::SpatialFilteringMixin</a></td></tr>
<tr class="memitem:ad6c6183c373ba9aa1d0e998b68680eb0 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad6c6183c373ba9aa1d0e998b68680eb0">SpatialFilteringMixin</a> (const int <a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ae717e43e269b1069a1eed0bfa0bab4f8">nbSizeX</a>, const int <a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a931cd682ded840cf87e454e261432c10">nbSizeY</a>)</td></tr>
<tr class="memdesc:ad6c6183c373ba9aa1d0e998b68680eb0 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes spatial filtering mixin.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad6c6183c373ba9aa1d0e998b68680eb0">More...</a><br /></td></tr>
<tr class="separator:ad6c6183c373ba9aa1d0e998b68680eb0 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d78fa6d884d51a9068dce2b8625b39a inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a7d78fa6d884d51a9068dce2b8625b39a">~SpatialFilteringMixin</a> ()</td></tr>
<tr class="separator:a7d78fa6d884d51a9068dce2b8625b39a inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c524d6257d887698cfee0c474981719 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8c524d6257d887698cfee0c474981719">writeHeader</a> (<a class="el" href="classBeatmup_1_1StringBuilder.html">StringBuilder</a> &amp;code, bool <a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">useUniformShift</a>)</td></tr>
<tr class="memdesc:a8c524d6257d887698cfee0c474981719 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes out the very GLSL fragment shader header required for spatial neighborhood sampling.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8c524d6257d887698cfee0c474981719">More...</a><br /></td></tr>
<tr class="separator:a8c524d6257d887698cfee0c474981719 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c2aff92ca042a73a15e340f98c98f4c inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a9c2aff92ca042a73a15e340f98c98f4c">declare</a> (<a class="el" href="classBeatmup_1_1StringBuilder.html">StringBuilder</a> &amp;code, const char *datatype, bool inlineSampling=false)</td></tr>
<tr class="memdesc:a9c2aff92ca042a73a15e340f98c98f4c inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Declares GLSL fragment shader main(..) code part required for spatial neighborhood sampling.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a9c2aff92ca042a73a15e340f98c98f4c">More...</a><br /></td></tr>
<tr class="separator:a9c2aff92ca042a73a15e340f98c98f4c inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f1036d4c88362a14a24f874766ce27f inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0f1036d4c88362a14a24f874766ce27f">sample</a> (<a class="el" href="classBeatmup_1_1StringBuilder.html">StringBuilder</a> &amp;code, const char *inputName, const int inputIndex, const <a class="el" href="namespaceBeatmup.html#a83a45defc1146b69f9a30a84080fd8fb">Point</a> &amp;<a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a>, const bool isFirstSample=true, const char *suffix=&quot;&quot;)</td></tr>
<tr class="memdesc:a0f1036d4c88362a14a24f874766ce27f inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Samples a neighborhood of a given texture.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0f1036d4c88362a14a24f874766ce27f">More...</a><br /></td></tr>
<tr class="separator:a0f1036d4c88362a14a24f874766ce27f inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1087c45c2b2aaf4bee734c2848654035 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a1087c45c2b2aaf4bee734c2848654035">sampleInline</a> (<a class="el" href="classBeatmup_1_1StringBuilder.html">StringBuilder</a> &amp;code, const char *inputName, const int inputIndex, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;position, const <a class="el" href="namespaceBeatmup.html#a83a45defc1146b69f9a30a84080fd8fb">Point</a> &amp;<a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a>, const char *suffix=&quot;&quot;)</td></tr>
<tr class="separator:a1087c45c2b2aaf4bee734c2848654035 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39def4433cae86f2d1d8b2c7e916c319 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a39def4433cae86f2d1d8b2c7e916c319">setup</a> (const int <a class="el" href="wrapper__imag_8cpp.html#ad9fff7634f7988d941d6fd53c1a19a26">width</a>, const int <a class="el" href="wrapper__imag_8cpp.html#ae6f03bd43559b0c1599ea0cda2672073">height</a>)</td></tr>
<tr class="memdesc:a39def4433cae86f2d1d8b2c7e916c319 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares the spatial filtering operation execution.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a39def4433cae86f2d1d8b2c7e916c319">More...</a><br /></td></tr>
<tr class="separator:a39def4433cae86f2d1d8b2c7e916c319 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9f66fec5e25059979070e0fe85c2d23 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad9f66fec5e25059979070e0fe85c2d23">setUniformShift</a> (<a class="el" href="classBeatmup_1_1GL_1_1Program.html">GL::Program</a> &amp;program, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;<a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a>, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;inputSize)</td></tr>
<tr class="memdesc:ad9f66fec5e25059979070e0fe85c2d23 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Applies an offset to the sampling position at runtime.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad9f66fec5e25059979070e0fe85c2d23">More...</a><br /></td></tr>
<tr class="separator:ad9f66fec5e25059979070e0fe85c2d23 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a8ededd52b80db487f8fe9772d6765 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#aa2a8ededd52b80db487f8fe9772d6765">setupProgram</a> (<a class="el" href="classBeatmup_1_1GL_1_1Program.html">GL::Program</a> &amp;program)</td></tr>
<tr class="memdesc:aa2a8ededd52b80db487f8fe9772d6765 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepares a given program for spatial filtering.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#aa2a8ededd52b80db487f8fe9772d6765">More...</a><br /></td></tr>
<tr class="separator:aa2a8ededd52b80db487f8fe9772d6765 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe11d0fa79e7bb47932e2ab699ecf38e inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceBeatmup.html#a7b35a49ba08d97d42842f6b18a05c8a7">IntRectangle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">getSamplingArea</a> (const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;<a class="el" href="wrapper__imag_8cpp.html#a4203e754756a06885ebe2fbd5312630e">size</a>, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;stride, const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a> padding) const</td></tr>
<tr class="memdesc:abe11d0fa79e7bb47932e2ab699ecf38e inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implements common padding policies by computing a rectangular area of positions the sampling kernel takes in order to get the result with the required padding.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">More...</a><br /></td></tr>
<tr class="separator:abe11d0fa79e7bb47932e2ab699ecf38e inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a561f443528ccbee1e048ae3406f2b523 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceBeatmup.html#a7b35a49ba08d97d42842f6b18a05c8a7">IntRectangle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a561f443528ccbee1e048ae3406f2b523">getSamplingArea</a> (const <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;storage, const int channel, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;stride, const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a> padding) const</td></tr>
<tr class="memdesc:a561f443528ccbee1e048ae3406f2b523 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes area in pixels to sample a given storage according to specific stride and padding.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a561f443528ccbee1e048ae3406f2b523">More...</a><br /></td></tr>
<tr class="separator:a561f443528ccbee1e048ae3406f2b523 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d354aa94e863b1ecf24ae64a19f7cae inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceBeatmup.html#adee3f5479b9f74ba24978f9e817aded2">Rectangle</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0d354aa94e863b1ecf24ae64a19f7cae">getTextureCoordinates</a> (const <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;storage, const int channel, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;stride, const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a> padding, const <a class="el" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a> &amp;outputSize) const</td></tr>
<tr class="memdesc:a0d354aa94e863b1ecf24ae64a19f7cae inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes texture coordinates sampling a specific storage channel for given stride, padding and output size.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0d354aa94e863b1ecf24ae64a19f7cae">More...</a><br /></td></tr>
<tr class="separator:a0d354aa94e863b1ecf24ae64a19f7cae inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e25113fbbd896c92370477241740a85 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8e25113fbbd896c92370477241740a85">getInputSamplingPos</a> () const</td></tr>
<tr class="memdesc:a8e25113fbbd896c92370477241740a85 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieves input sampling point position for the current fragment.  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8e25113fbbd896c92370477241740a85">More...</a><br /></td></tr>
<tr class="separator:a8e25113fbbd896c92370477241740a85 inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33463ca05f1a7350abd3b9fbd709151f inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a33463ca05f1a7350abd3b9fbd709151f">isUniformShiftUsed</a> () const</td></tr>
<tr class="separator:a33463ca05f1a7350abd3b9fbd709151f inherit pro_methods_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html">Beatmup::NNets::ActivationFunctionMixin</a></td></tr>
<tr class="memitem:a50cb4ccd3fde8b6d0e396efba1623f71 inherit pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a50cb4ccd3fde8b6d0e396efba1623f71">ActivationFunctionMixin</a> (const <a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471a">ActivationFunction</a> <a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a5b11033fa09bbe86f04a2ff8ed6c63b9">activationFunc</a>)</td></tr>
<tr class="separator:a50cb4ccd3fde8b6d0e396efba1623f71 inherit pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7070cf734331a0505c095121b93b691 inherit pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#ae7070cf734331a0505c095121b93b691">apply</a> (<a class="el" href="classBeatmup_1_1StringBuilder.html">StringBuilder</a> &amp;code, const char *inputVariable)</td></tr>
<tr class="memdesc:ae7070cf734331a0505c095121b93b691 inherit pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">Renders a GLSL code applying activation function to a specific variable and writing the result to gl_FragColor shader output variable.  <a href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#ae7070cf734331a0505c095121b93b691">More...</a><br /></td></tr>
<tr class="separator:ae7070cf734331a0505c095121b93b691 inherit pro_methods_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classBeatmup_1_1NNets_1_1ActivationFunctionMixin')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html">Beatmup::NNets::ActivationFunctionMixin</a></td></tr>
<tr class="memitem:a5b11033fa09bbe86f04a2ff8ed6c63b9 inherit pro_attribs_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471a">ActivationFunction</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a5b11033fa09bbe86f04a2ff8ed6c63b9">activationFunc</a></td></tr>
<tr class="separator:a5b11033fa09bbe86f04a2ff8ed6c63b9 inherit pro_attribs_classBeatmup_1_1NNets_1_1ActivationFunctionMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_static_attribs_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td colspan="2" onclick="javascript:toggleInherit('pro_static_attribs_classBeatmup_1_1NNets_1_1SpatialFilteringMixin')"><img src="closed.png" alt="-"/>&#160;Static Protected Attributes inherited from <a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html">Beatmup::NNets::SpatialFilteringMixin</a></td></tr>
<tr class="memitem:a571654441a4e34f33834f29915d5276f inherit pro_static_attribs_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memItemLeft" align="right" valign="top">static const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a571654441a4e34f33834f29915d5276f">SAMPLE_ID_PREFIX</a> = &quot;i&quot;</td></tr>
<tr class="memdesc:a571654441a4e34f33834f29915d5276f inherit pro_static_attribs_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="mdescLeft">&#160;</td><td class="mdescRight">prefix of variables declaring a neighbor sample  <a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a571654441a4e34f33834f29915d5276f">More...</a><br /></td></tr>
<tr class="separator:a571654441a4e34f33834f29915d5276f inherit pro_static_attribs_classBeatmup_1_1NNets_1_1SpatialFilteringMixin"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>2D convolution operation computed on GPU. </p>
<p>Has 2 inputs: main and residual (detailed below), and a single output. Constraints:</p><ul>
<li>Input and output contain values in [0, 1] range sampled over 8 bits.</li>
<li>Number of input channels is 3 (i.e., the input is an RGB image) or a multiple of 4.</li>
<li>Number of output feature maps is a multiple of 4.</li>
<li>For group convolutions, each group contains a multiple of 4 input channels and a multiple of 4 output channels, or exactly 1 input and 1 output channel (i.e., depthwise).</li>
<li><a class="el" href="namespaceKernels.html" title="Operations kernels.">Kernels</a> are of square shape.</li>
<li>Strides are equal along X and Y.</li>
<li>Dilations are equal to 1.</li>
<li>If an image is given on input (3 input feature maps), only valid padding is supported.</li>
<li>An activation function is always applied on output.</li>
</ul>
<p>Raspberry Pi-related constraints:</p><ul>
<li>Pi cannot sample more than 256 channels to compute a single output value. Actual practical limit is yet lower: something about 128 channels for pointwise convolutions and less than 100 channels for bigger kernels. When the limit is reached, Pi OpenGL driver reports an out of memory error (0x505).</li>
</ul>
<p>Features:</p><ul>
<li>Bias addition integrated.</li>
<li>An optional residual input is available: a tensor of output shape added to the convolution result before applying the activation function.</li>
</ul>
<p>Convolution filters and bias are searched in chunks. The chunk names consist of the operation name followed by <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb" title="suffix added to the op name to get the filters chunk id in the model data">Conv2D::FILTERS_CHUNK_SUFFIX</a> and <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1e09de4396a1b13d95c3c82639f80087" title="suffix added to the op name to get the bias chunk id in the model data">Conv2D::BIAS_CHUNK_SUFFIX</a> respectively. The chunk contents is a single precision floating point arrays. The filter coefficients are taken in "OIHW" layout, i.e., there are 'O*I' contiguous packets of 'H*W' values each. "O" and "I" are output and input channel numbers, "H" and "W" are filter height and width. </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00062">62</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ae4551f6fcd5fedd38d4ea726deb41fb7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4551f6fcd5fedd38d4ea726deb41fb7">&#9670;&nbsp;</a></span>Conv2D()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Conv2D::Conv2D </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>kernelSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>numInputChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>numOutputChannels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>stride</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a>&#160;</td>
          <td class="paramname"><em>padding</em> = <code><a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac9f1a6384b1c466d4612f513bd8e13ea">Size::Padding::VALID</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>useBias</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>numGroups</em> = <code>1</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471a">ActivationFunction</a>&#160;</td>
          <td class="paramname"><em>activation</em> = <code><a class="el" href="namespaceBeatmup_1_1NNets.html#af2dd3c8a25e36f44e120c16625f6471aa5b39c8b553c821e7cddc6da64b5bd2ee">ActivationFunction::DEFAULT</a></code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Instantiates a 2D convolution operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">name</td><td>Operation name </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">kernelSize</td><td>Convolution kernel size </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numInputChannels</td><td>Number of input feature map channels (input depth) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numOutputChannels</td><td>Number of output feature map channels (output depth) </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">stride</td><td>Convolution stride </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">padding</td><td>Padding policy </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">useBias</td><td>If <code>true</code>, the bias addition is enabled. The bias vector is searched in the model data. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">numGroups</td><td>Number of convolution groups to get a group/depthwise convolution </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">activation</td><td>Activation function applied to the operation output </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00041">41</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160; :</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a105ffbe9154480e6202b981974a03ca9">AbstractOperation</a>(<a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a3c03bed9eb982851f6efe32e7af25638">name</a>), <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad6c6183c373ba9aa1d0e998b68680eb0">SpatialFilteringMixin</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>), <a class="code" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a50cb4ccd3fde8b6d0e396efba1623f71">ActivationFunctionMixin</a>(activation),</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>, numInputChannels / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>),</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>),</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>(numInputChannels == 3),</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>(numInputChannels == <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> == <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>),</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>),</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3d15044d59278321b2fb1e1a691d98f3">ready</a>(<span class="keyword">false</span>),</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>(<span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;{</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>) {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">InvalidArgument::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> == 1, <span class="stringliteral">&quot;Cannot apply a group convolution to the input image&quot;</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">InvalidArgument::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a> == <a class="code" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac9f1a6384b1c466d4612f513bd8e13ea">Size::Padding::VALID</a>, <span class="stringliteral">&quot;Only valid zero padding setting is supported when an image is used as input&quot;</span>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Storage.html#a27bb65aaef305a1d4e1a3964a5fe930a">Storage::checkChannelNumber</a>(numInputChannels);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Storage.html#a27bb65aaef305a1d4e1a3964a5fe930a">Storage::checkChannelNumber</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <a class="code" href="classBeatmup_1_1OutOfRange.html#a099761220f7c7ec6160c7f5ad5839cbe">OutOfRange::checkMin</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>, 1, <span class="stringliteral">&quot;Positive convolution stride expected, %d got&quot;</span>);</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="classBeatmup_1_1OutOfRange.html#a099761220f7c7ec6160c7f5ad5839cbe">OutOfRange::checkMin</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>, 1, <span class="stringliteral">&quot;Positive convolution kernel size expected, %d got&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; !<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">InvalidArgument::check</a>(this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>() % 4 == 0, <span class="stringliteral">&quot;A multiple of 4 is expected as number of input channels in the convolution kernel.&quot;</span>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> &gt; 1)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <a class="code" href="classBeatmup_1_1OutOfRange.html#a099761220f7c7ec6160c7f5ad5839cbe">OutOfRange::checkMin</a>(this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>(), 4, <span class="stringliteral">&quot;Kernels having less than 4 input channels are not supported in grouped convolutions. Got %d channels.&quot;</span>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160; </div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <span class="comment">// check groups alignment: each group must contain 4k inputs and outputs channels</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>) {</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <a class="code" href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">InvalidArgument::check</a>(numInputChannels % (4 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>) == 0,</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                <span class="stringliteral">&quot;Cannot split &quot;</span> +<a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(numInputChannels)+ <span class="stringliteral">&quot; input channels on &quot;</span> +<a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>)+ <span class="stringliteral">&quot; groups of 4*k channels each.&quot;</span>);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <a class="code" href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">InvalidArgument::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> % (4 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>) == 0,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="stringliteral">&quot;Cannot split &quot;</span> +<a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>)+ <span class="stringliteral">&quot; output channels on &quot;</span> +<a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>)+ <span class="stringliteral">&quot; groups of 4*k channels each.&quot;</span>);</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    }</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>.reserve(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> / 4);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.reserve(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1InvalidArgument_html_a0ed032829ae6cf910b6b62c9858db66f"><div class="ttname"><a href="classBeatmup_1_1InvalidArgument.html#a0ed032829ae6cf910b6b62c9858db66f">Beatmup::InvalidArgument::check</a></div><div class="ttdeci">static void check(const bool condition, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8h_source.html#l00075">exception.h:75</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1AbstractOperation_html_a105ffbe9154480e6202b981974a03ca9"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a105ffbe9154480e6202b981974a03ca9">Beatmup::NNets::AbstractOperation::AbstractOperation</a></div><div class="ttdeci">AbstractOperation(const AbstractOperation &amp;)=delete</div><div class="ttdoc">disabling copying constructor</div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1AbstractOperation_html_a3c03bed9eb982851f6efe32e7af25638"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a3c03bed9eb982851f6efe32e7af25638">Beatmup::NNets::AbstractOperation::name</a></div><div class="ttdeci">std::string name</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00050">operation.h:50</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1ActivationFunctionMixin_html_a50cb4ccd3fde8b6d0e396efba1623f71"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a50cb4ccd3fde8b6d0e396efba1623f71">Beatmup::NNets::ActivationFunctionMixin::ActivationFunctionMixin</a></div><div class="ttdeci">ActivationFunctionMixin(const ActivationFunction activationFunc)</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00419">operation.h:419</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a06723cca6e7440a75e34637408738eab"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">Beatmup::NNets::Conv2D::isDepthwise</a></div><div class="ttdeci">const bool isDepthwise</div><div class="ttdoc">if true, the convolution is depthwise, otherwise regular</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00072">conv2d.h:72</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a291be2bd4398a01eaf3702ff954ffd20"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">Beatmup::NNets::Conv2D::numGroups</a></div><div class="ttdeci">const int numGroups</div><div class="ttdoc">number of convolution groups</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00068">conv2d.h:68</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a29b81c488bc32d6d64fefb77177fcd12"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">Beatmup::NNets::Conv2D::programs</a></div><div class="ttdeci">std::vector&lt; GL::RenderingProgram * &gt; programs</div><div class="ttdoc">pointers to GLSL program, one per quad of output channels</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00079">conv2d.h:79</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a3323bff963961004fbacfbb20f15fb68"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">Beatmup::NNets::Conv2D::useBias</a></div><div class="ttdeci">const bool useBias</div><div class="ttdoc">if true, the bias addition is enabled</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00073">conv2d.h:73</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a3553a2c50177e60430ba89804e23fe33"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">Beatmup::NNets::Conv2D::padding</a></div><div class="ttdeci">const Size::Padding padding</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00070">conv2d.h:70</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a3d15044d59278321b2fb1e1a691d98f3"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a3d15044d59278321b2fb1e1a691d98f3">Beatmup::NNets::Conv2D::ready</a></div><div class="ttdeci">bool ready</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00074">conv2d.h:74</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a42ea086a616a5f9865abdbe455b750f2"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">Beatmup::NNets::Conv2D::stride</a></div><div class="ttdeci">const int stride</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00069">conv2d.h:69</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a52479b1875b4bca25cf4f427b7623fac"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">Beatmup::NNets::Conv2D::inputImage</a></div><div class="ttdeci">GL::TextureHandler * inputImage</div><div class="ttdoc">input texture handler to be used instead input view</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00078">conv2d.h:78</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a6afb59852ca72367f2538626a9605be0"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">Beatmup::NNets::Conv2D::useInputImage</a></div><div class="ttdeci">const bool useInputImage</div><div class="ttdoc">if true, input is the texture handler, not the view</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00071">conv2d.h:71</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_ab5ccde68f01e7c1e111f4cf60105497d"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">Beatmup::NNets::Conv2D::numOutputChannels</a></div><div class="ttdeci">const int numOutputChannels</div><div class="ttdoc">number of output feature maps</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00067">conv2d.h:67</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_ab7b31c3a1ce6366bf24b0abb841aafac"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">Beatmup::NNets::Conv2D::groupViews</a></div><div class="ttdeci">std::vector&lt; Storage::View &gt; groupViews</div><div class="ttdoc">views per convolution group</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00082">conv2d.h:82</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_ac5ece368e5f9f17b8eae0a4d659acefd"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">Beatmup::NNets::Conv2D::kernelSize</a></div><div class="ttdeci">const Size kernelSize</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00066">conv2d.h:66</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_a92ff42ecfb770dde9540a6aed170a36aac9f1a6384b1c466d4612f513bd8e13ea"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac9f1a6384b1c466d4612f513bd8e13ea">Beatmup::NNets::Size::Padding::VALID</a></div><div class="ttdeci">@ VALID</div><div class="ttdoc">no zero padding</div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_aecee36fdc18fa42ee59f4cff55bcec5d"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">Beatmup::NNets::Size::getDepth</a></div><div class="ttdeci">int getDepth() const</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00077">storage.h:77</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_ad6c6183c373ba9aa1d0e998b68680eb0"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad6c6183c373ba9aa1d0e998b68680eb0">Beatmup::NNets::SpatialFilteringMixin::SpatialFilteringMixin</a></div><div class="ttdeci">SpatialFilteringMixin(const int nbSizeX, const int nbSizeY)</div><div class="ttdoc">Initializes spatial filtering mixin.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00098">operation.cpp:98</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_html_a27bb65aaef305a1d4e1a3964a5fe930a"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage.html#a27bb65aaef305a1d4e1a3964a5fe930a">Beatmup::NNets::Storage::checkChannelNumber</a></div><div class="ttdeci">static void checkChannelNumber(int channel)</div><div class="ttdoc">Checks whether a channel number points to the first channel in a texture.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00290">storage.h:290</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1OutOfRange_html_a099761220f7c7ec6160c7f5ad5839cbe"><div class="ttname"><a href="classBeatmup_1_1OutOfRange.html#a099761220f7c7ec6160c7f5ad5839cbe">Beatmup::OutOfRange::checkMin</a></div><div class="ttdeci">static void checkMin(const datatype value, const datatype min, const char *message)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8h_source.html#l00092">exception.h:92</a></div></div>
<div class="ttc" id="anamespacestd_html_a1172ea77e4f1327c086967b14089913f"><div class="ttname"><a href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a></div><div class="ttdeci">std::string to_string(Beatmup::NNets::ActivationFunction function)</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="afb039b35b5972bff138b6dcfb5854c99"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb039b35b5972bff138b6dcfb5854c99">&#9670;&nbsp;</a></span>getIdx()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Beatmup::NNets::Conv2D::getIdx </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>output</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>y</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Maps an (inputChannel, outputChannel, x, y) position to a linear coefficient index in the chunkfile. </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00087">87</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                                                                         {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a> + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> * (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a> + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[2] * (<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0] * <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>));</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;            }</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a7f2954f532c1ba232ec582c807747bc6"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">Beatmup::NNets::Conv2D::output</a></div><div class="ttdeci">Storage::View output</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00076">conv2d.h:76</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_ab96e60c5ecf42d5bd0ef7606a0d2d445"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">Beatmup::NNets::Conv2D::input</a></div><div class="ttdeci">Storage::View input</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00076">conv2d.h:76</a></div></div>
<div class="ttc" id="awrapper__core_8cpp_html_a8302c807aafae69e8bee64e39938a36b"><div class="ttname"><a href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a></div><div class="ttdeci">jobject jlong jint jint y</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00253">wrapper_core.cpp:253</a></div></div>
<div class="ttc" id="awrapper__core_8cpp_html_af61b23610f22d01c597df4e9f53446f5"><div class="ttname"><a href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a></div><div class="ttdeci">jobject jlong jint x</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00253">wrapper_core.cpp:253</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a58e9ad39e484db567b999ecf2cc64daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a58e9ad39e484db567b999ecf2cc64daf">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::prepare </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1GraphicPipeline.html">GraphicPipeline</a> &amp;&#160;</td>
          <td class="paramname"><em>gpu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1ChunkCollection.html">ChunkCollection</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1GL_1_1ProgramBank.html">GL::ProgramBank</a> &amp;&#160;</td>
          <td class="paramname"><em>bank</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Compiles GLSL shaders. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">gpu</td><td>A graphic pipeline instance </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">data</td><td>Chunkfile containing operation data (e.g. weights and biases) </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">bank</td><td>A program bank with existing GLSL programs to be reused when possible. If a new program is built, it is added to the bank. </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a7e39ed3a9ccc287b6607ab9c74ac81d2">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00088">88</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                                                                                     {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>((<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>) || (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>), <span class="stringliteral">&quot;Input is not provided to Conv2D operation &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>());</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>, <span class="stringliteral">&quot;Output is not provided to Conv2D operation &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>());</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160; </div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="comment">// get coefficients</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1Chunk.html">Chunk</a> kernel(data, <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>() + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb">FILTERS_CHUNK_SUFFIX</a>);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">if</span> (kernel.size() != <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>))</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <span class="keywordflow">throw</span> InconsistentModelData(<span class="keyword">this</span>, <span class="stringliteral">&quot;Weights size mismatch&quot;</span>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160; </div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1Chunk.html">Chunk</a>* biases = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>) {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        biases = <span class="keyword">new</span> <a class="code" href="classBeatmup_1_1Chunk.html">Chunk</a>(data, <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>() + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1e09de4396a1b13d95c3c82639f80087">BIAS_CHUNK_SUFFIX</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">if</span> (biases-&gt;<a class="code" href="classBeatmup_1_1Chunk.html#ac2576bd716a67897f26a3ea50dc39cbf">size</a>() != <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> * <span class="keyword">sizeof</span>(<span class="keywordtype">float</span>))</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">throw</span> InconsistentModelData(<span class="keyword">this</span>, <span class="stringliteral">&quot;Biases size mismatch&quot;</span>);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160; </div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="comment">// free old stuff</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">for</span> (<span class="keyword">auto</span> program : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>)</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        bank.<a class="code" href="classBeatmup_1_1GL_1_1ProgramBank.html#aca47a92b9a5989bef50111c0b8a76e5e">release</a>(gpu, program);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>.clear();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.clear();</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160; </div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">// decide whether use uniforms or not</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> MAX_ALLOWED_NUMBER_OF_PROGRAMS = 0;    <span class="comment">// discovered empirically that uniforms are faster on Pi, Nano and desktop</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> NUM_RESERVED_UNFORM_VECTORS = 8 + <a class="code" href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">std::max</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0], <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[1]) / 2;     <span class="comment">// number of uniform vectors to keep unused</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> numberOfPrograms = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> / 4;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> uniformsLength = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() + 1;     <span class="comment">// number of uniform vectors per program</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> useUniforms = !<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp;                  <span class="comment">// if an image is given on input, the uniforms use is not unsupported</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        numberOfPrograms &gt; MAX_ALLOWED_NUMBER_OF_PROGRAMS &amp;&amp;    <span class="comment">// if not too many programs, rather go with hardcoded model data</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        uniformsLength + NUM_RESERVED_UNFORM_VECTORS &lt; gpu.<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a35ba2fda6ae8c0801353f986d363516b">getLimit</a>(<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a9933727a56997806da4365de1243a3ffacfa8b3cc9645c2e8a746e2ca887da7df">GraphicPipeline::Limit::FRAGMENT_UNIFORM_VECTORS</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    <span class="keywordflow">if</span> (useUniforms)</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.reserve(numberOfPrograms * uniformsLength);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160; </div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">useUniformShift</a> = useUniforms &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>() &lt;= 4;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <span class="comment">// use uniform shift if only one input texture is sampled, i.e., depthwise or grouped with groups of 4</span></div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160; </div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">// init new programs</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> outputChannel = 0; outputChannel &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>; outputChannel += 4) {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">size_t</span> coefStart = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.size();     <span class="comment">// index of the first coefficient in coeffs for the current program</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160; </div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        <span class="comment">// compute indices delimiting the current group</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> groupIdx = outputChannel * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> firstInputChannel = groupIdx * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>();</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> lastInputChannel  = firstInputChannel + (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> ? 4 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>());</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160; </div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="comment">// set up GLSL code</span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        <a class="code" href="classBeatmup_1_1String.html">String</a> code(<a class="code" href="classBeatmup_1_1GL_1_1RenderingPrograms.html#ace87ec77c10bd2be8b754da1c7e35c80">GL::RenderingPrograms::DECLARE_TEXTURE_COORDINATES_IN_FRAG</a>);</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160; </div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="preprocessor">#ifdef BEATMUP_DEBUG</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.empty())</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            DebugAssertion::check(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.back().getNumberOfTextures() &lt;= gpu.<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a35ba2fda6ae8c0801353f986d363516b">getLimit</a>(<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a9933727a56997806da4365de1243a3ffa4e7da8440d55e6d13d2b4ff211c458c2">GraphicPipeline::Limit::TEXTURE_IMAGE_UNITS</a>),</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="stringliteral">&quot;Cannot compute Conv2D operation &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>() + <span class="stringliteral">&quot; on the current GPU: too many textures per group&quot;</span>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160; </div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        code.printf(<span class="stringliteral">&quot;uniform sampler2D %s[%d];&quot;</span>, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> || <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> ? 1 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>[groupIdx].getNumberOfTextures());</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>)</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            code.printf(<span class="stringliteral">&quot;uniform sampler2D %s[1];&quot;</span>, <a class="code" href="conv2d_8cpp.html#abfbac65075e5d2e4badb9ff51c998895">UNIFORM_RESIDUAL_INPUT</a>);</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">if</span> (useUniforms)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            code.printf(<span class="stringliteral">&quot;uniform highp vec4 %s[%d];&quot;</span>, <a class="code" href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a>, uniformsLength);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160; </div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8c524d6257d887698cfee0c474981719">SpatialFilteringMixin::writeHeader</a>(code, <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">useUniformShift</a>);</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        code.line(<span class="stringliteral">&quot;void main() {&quot;</span>);</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        code.line(<span class="stringliteral">&quot;highp vec4 sum;&quot;</span>);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160; </div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        <span class="comment">// declare neighborhood: vec4 for storage, vec3 for image</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a9c2aff92ca042a73a15e340f98c98f4c">SpatialFilteringMixin::declare</a>(code, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? <span class="stringliteral">&quot;highp vec3&quot;</span> : <span class="stringliteral">&quot;highp vec4&quot;</span>, !<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160; </div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        <span class="comment">// loop through input channels</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> inputChannel = firstInputChannel; inputChannel &lt; lastInputChannel; inputChannel += 4) {</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> channelInGroup = inputChannel - firstInputChannel;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160; </div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">Point</a> <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a> = (<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">useUniformShift</a> || !<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>) ? <a class="code" href="classBeatmup_1_1CustomPoint.html#a3e5b80ffbc5279a69072f318cf1d8cf8">Point::ZERO</a> :</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;                (<a class="code" href="namespaceBeatmup.html#a83a45defc1146b69f9a30a84080fd8fb">Point</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(inputChannel) - <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(firstInputChannel)) / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7b20afba1b7f257d822104696d4a43d8">getTextureSize</a>());</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                <span class="comment">// texture coordinates sample the first channel in the current group, so shift is relative to its origin</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160; </div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;            <span class="comment">// compute depthwise convolution: inline sampling used</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>) {</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                code(<span class="stringliteral">&quot;sum = &quot;</span>);</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> = 0; <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[1]; ++<a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> = 0; <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0]; ++<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>) {</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> &gt; 0 || <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> &gt; 0) code(<span class="stringliteral">&quot; + &quot;</span>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a> = kernel.ptr&lt;<span class="keywordtype">float</span>&gt;(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">getIdx</a>(outputChannel, 0, <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>));</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                    <span class="keywordflow">if</span> (useUniforms) {</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                        code.printf(<span class="stringliteral">&quot;%s[%d] * &quot;</span>, <a class="code" href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a>, (<span class="keywordtype">int</span>)(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.size() - coefStart));</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.emplace_back(std::array&lt;float, 4&gt;{ <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[0], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[1], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[2], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[3] });</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                    }</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                        code.printf(<span class="stringliteral">&quot;vec4(&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;) * &quot;</span>, <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[0], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[1], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[2], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[3]);</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                    <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a1087c45c2b2aaf4bee734c2848654035">SpatialFilteringMixin::sampleInline</a>(code, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>, 0, <a class="code" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a>(<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>), <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a>);</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                }</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                code.line(<span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160; </div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="comment">// compute convolution with 3-channel input image using dot product; no inline sampling</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>) {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0f1036d4c88362a14a24f874766ce27f">SpatialFilteringMixin::sample</a>(code, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>, 0, <a class="code" href="classBeatmup_1_1CustomPoint.html#a3e5b80ffbc5279a69072f318cf1d8cf8">Point::ZERO</a>, <span class="keyword">true</span>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? <span class="stringliteral">&quot;.rgb&quot;</span> : <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> offset[4] = { 0, 1 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, 2 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, 3 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> };</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> = 0; <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[1]; ++<a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> = 0; <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0]; ++<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>) {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                    code((channelInGroup == 0 &amp;&amp; <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> == 0 &amp;&amp; <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> == 0) ? <span class="stringliteral">&quot;sum = vec4(&quot;</span> : <span class="stringliteral">&quot;sum += vec4(&quot;</span>);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; 4; ++c) {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                        <span class="keywordflow">if</span> (c &gt; 0) code(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a> = kernel.ptr&lt;<span class="keywordtype">float</span>&gt;(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">getIdx</a>(c + outputChannel, channelInGroup, <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>));</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                        code.printf(<span class="stringliteral">&quot;dot(vec3(&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;), %s%d%d)&quot;</span>,</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;                                <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[0], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[1]], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[2]], <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a571654441a4e34f33834f29915d5276f">SpatialFilteringMixin::SAMPLE_ID_PREFIX</a>, <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>);</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;                    }</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    code.line(<span class="stringliteral">&quot;);&quot;</span>);</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                }</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160; </div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            <span class="comment">// compute 4m to 4n channels using vector by 4x4 matrix multiply: inline sampling used</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                code.printf(<span class="stringliteral">&quot;sum %s&quot;</span>, channelInGroup == 0 ? <span class="stringliteral">&quot;=&quot;</span> : <span class="stringliteral">&quot;+=&quot;</span>);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> offset[4] = { 0, 1 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, 2 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, 3 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> };</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> = 0; <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[1]; ++<a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>)</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> = 0; <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0]; ++<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>) {</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a> &gt; 0 || <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a> &gt; 0) code(<span class="stringliteral">&quot; + &quot;</span>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a1087c45c2b2aaf4bee734c2848654035">SpatialFilteringMixin::sampleInline</a>(code, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>[groupIdx].getChannelTextureNumber(channelInGroup), <a class="code" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a>(<a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>), <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">shift</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    code.printf(<span class="stringliteral">&quot; * mat4(&quot;</span>);</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; 4; ++c) {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        <span class="keywordflow">if</span> (c &gt; 0) code(<span class="stringliteral">&quot;,&quot;</span>);</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                        <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a> = kernel.ptr&lt;<span class="keywordtype">float</span>&gt;(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">getIdx</a>(c + outputChannel, channelInGroup, <a class="code" href="wrapper__core_8cpp.html#af61b23610f22d01c597df4e9f53446f5">x</a>, <a class="code" href="wrapper__core_8cpp.html#a8302c807aafae69e8bee64e39938a36b">y</a>));</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                        <span class="keywordflow">if</span> (useUniforms) {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                            code.printf(<span class="stringliteral">&quot;%s[%d]&quot;</span>, <a class="code" href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a>, (<span class="keywordtype">int</span>)(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.size() - coefStart));</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                            <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.emplace_back(std::array&lt;float, 4&gt;{ <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[0], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[1]], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[2]], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[3]] });</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                        }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                            code.printf(<a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a>, <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[0], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[1]], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[2]], <a class="code" href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a>[offset[3]]);</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                    }</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    code.printf(<span class="stringliteral">&quot;)&quot;</span>);</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                code.line(<span class="stringliteral">&quot;;&quot;</span>);</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            }</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        }</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160; </div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="comment">// add residual input</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>) {</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;            <span class="comment">// get linear mapping of channel pixel positions to sample the residual input properly</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">IntPoint</a> mainOrigin = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">useUniformShift</a> ? outputChannel : firstInputChannel);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">IntPoint</a> residualOrigin = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(outputChannel);</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomRectangle.html">Rectangle</a> mainArea(mainOrigin, mainOrigin + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">getSpatialSize</a>());</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomRectangle.html">Rectangle</a> resArea(residualOrigin, residualOrigin + <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">getSpatialSize</a>());</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">Point</a> mainTexSize(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#ac0cb2d8c34e20e16a85b52da855243d3">getTextureWidth</a>(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a05fc8800b4a432e004d454becfb24d18">getTextureHeight</a>());</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;            <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">Point</a> resTexSize(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#ac0cb2d8c34e20e16a85b52da855243d3">getTextureWidth</a>(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a05fc8800b4a432e004d454becfb24d18">getTextureHeight</a>());</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;            <a class="code" href="classBeatmup_1_1CustomPoint.html">Point</a> <a class="code" href="wrapper__audio_8cpp.html#a4cedb08d9eeefafad8492142d8c79212">scale</a>, offset;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;            (mainArea / mainTexSize).<a class="code" href="wrapper__imag_8cpp.html#a858098f572fcf05498f1b3e6880931fc">getMapping</a>(resArea / resTexSize, <a class="code" href="wrapper__audio_8cpp.html#a4cedb08d9eeefafad8492142d8c79212">scale</a>, offset);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;            <span class="comment">// sample, add to sum</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            code.printf(<span class="stringliteral">&quot;sum += texture2D(%s[0], %s * vec2(&quot;</span> <a class="code" href="conv2d_8cpp.html#a6a6c08188d6453a251dab92e24c34e0b">COORD_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a6a6c08188d6453a251dab92e24c34e0b">COORD_FMT</a> <span class="stringliteral">&quot;) + vec2(&quot;</span> <a class="code" href="conv2d_8cpp.html#a6a6c08188d6453a251dab92e24c34e0b">COORD_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a6a6c08188d6453a251dab92e24c34e0b">COORD_FMT</a> <span class="stringliteral">&quot;));\n&quot;</span>,</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="conv2d_8cpp.html#abfbac65075e5d2e4badb9ff51c998895">UNIFORM_RESIDUAL_INPUT</a>, <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8e25113fbbd896c92370477241740a85">getInputSamplingPos</a>().c_str(), <a class="code" href="wrapper__audio_8cpp.html#a4cedb08d9eeefafad8492142d8c79212">scale</a>.x, <a class="code" href="wrapper__audio_8cpp.html#a4cedb08d9eeefafad8492142d8c79212">scale</a>.y, offset.<a class="code" href="classBeatmup_1_1CustomPoint.html#a6f4b9999507ca1ae1de76819b174f506">x</a>, offset.<a class="code" href="classBeatmup_1_1CustomPoint.html#af45911e2d2851aa6858fdaa854ab0a39">y</a>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160; </div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// add bias if enabled</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>) {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">float</span>* <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a> = biases-&gt;<a class="code" href="classBeatmup_1_1Chunk.html#a2a7517194e22d0b923afcc3192dea0e6">ptr</a>&lt;<span class="keywordtype">float</span>&gt;(outputChannel);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> (useUniforms) {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                code.printf(<span class="stringliteral">&quot;sum += %s[%d];&quot;</span>, <a class="code" href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a>, (<span class="keywordtype">int</span>)(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.size() - coefStart));</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.emplace_back(std::array&lt;float, 4&gt;{ <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[0], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[1], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[2], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[3] });</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            }</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                code.printf(<span class="stringliteral">&quot;sum += vec4(&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;,&quot;</span> <a class="code" href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a> <span class="stringliteral">&quot;);\n&quot;</span>, <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[0], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[1], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[2], <a class="code" href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a>[3]);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160; </div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;        <span class="comment">// apply activation</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#ae7070cf734331a0505c095121b93b691">ActivationFunctionMixin::apply</a>(code, <span class="stringliteral">&quot;sum&quot;</span>);</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        code(<span class="stringliteral">&quot;}&quot;</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160; </div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;        <span class="comment">// init program</span></div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>.push_back(bank(gpu, code));</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;    }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160; </div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <span class="comment">// setup execution order: same programs writing to the same texture are next to each other</span></div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>.resize(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>.size());</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>.size(); ++i)</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>[i] = (<span class="keywordtype">int</span>)i;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    std::sort(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>.begin(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>.end(), [&amp;](<span class="keywordtype">int</span> i, <span class="keywordtype">int</span> j) {</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;        return programs[i] &lt; programs[j] || (programs[i] == programs[j] &amp;&amp;</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            output.getChannelTextureNumber(4 * i) &lt; output.getChannelTextureNumber(4 * j));</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    });</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160; </div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="keyword">delete</span> biases;</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3d15044d59278321b2fb1e1a691d98f3">ready</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1Chunk_html"><div class="ttname"><a href="classBeatmup_1_1Chunk.html">Beatmup::Chunk</a></div><div class="ttdoc">Simply a piece of binary data of a specific size.</div><div class="ttdef"><b>Definition:</b> <a href="chunkfile_8h_source.html#l00210">chunkfile.h:210</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1Chunk_html_a2a7517194e22d0b923afcc3192dea0e6"><div class="ttname"><a href="classBeatmup_1_1Chunk.html#a2a7517194e22d0b923afcc3192dea0e6">Beatmup::Chunk::ptr</a></div><div class="ttdeci">datatype * ptr(size_t offset=0)</div><div class="ttdef"><b>Definition:</b> <a href="chunkfile_8h_source.html#l00264">chunkfile.h:264</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1Chunk_html_ac2576bd716a67897f26a3ea50dc39cbf"><div class="ttname"><a href="classBeatmup_1_1Chunk.html#ac2576bd716a67897f26a3ea50dc39cbf">Beatmup::Chunk::size</a></div><div class="ttdeci">size_t size() const</div><div class="ttdef"><b>Definition:</b> <a href="chunkfile_8h_source.html#l00257">chunkfile.h:257</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1CustomPoint_html"><div class="ttname"><a href="classBeatmup_1_1CustomPoint.html">Beatmup::CustomPoint&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1CustomPoint_html_a3e5b80ffbc5279a69072f318cf1d8cf8"><div class="ttname"><a href="classBeatmup_1_1CustomPoint.html#a3e5b80ffbc5279a69072f318cf1d8cf8">Beatmup::CustomPoint&lt; float &gt;::ZERO</a></div><div class="ttdeci">static const CustomPoint ZERO</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00122">geometry.h:122</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1CustomPoint_html_a6f4b9999507ca1ae1de76819b174f506"><div class="ttname"><a href="classBeatmup_1_1CustomPoint.html#a6f4b9999507ca1ae1de76819b174f506">Beatmup::CustomPoint::x</a></div><div class="ttdeci">numeric x</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00040">geometry.h:40</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1CustomPoint_html_af45911e2d2851aa6858fdaa854ab0a39"><div class="ttname"><a href="classBeatmup_1_1CustomPoint.html#af45911e2d2851aa6858fdaa854ab0a39">Beatmup::CustomPoint::y</a></div><div class="ttdeci">numeric y</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00040">geometry.h:40</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1CustomRectangle_html"><div class="ttname"><a href="classBeatmup_1_1CustomRectangle.html">Beatmup::CustomRectangle&lt; float &gt;</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1ProgramBank_html_aca47a92b9a5989bef50111c0b8a76e5e"><div class="ttname"><a href="classBeatmup_1_1GL_1_1ProgramBank.html#aca47a92b9a5989bef50111c0b8a76e5e">Beatmup::GL::ProgramBank::release</a></div><div class="ttdeci">void release(GraphicPipeline &amp;gpu, GL::RenderingProgram *program)</div><div class="ttdoc">Marks a program as unused any more.</div><div class="ttdef"><b>Definition:</b> <a href="program__bank_8cpp_source.html#l00068">program_bank.cpp:68</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1RenderingPrograms_html_ace87ec77c10bd2be8b754da1c7e35c80"><div class="ttname"><a href="classBeatmup_1_1GL_1_1RenderingPrograms.html#ace87ec77c10bd2be8b754da1c7e35c80">Beatmup::GL::RenderingPrograms::DECLARE_TEXTURE_COORDINATES_IN_FRAG</a></div><div class="ttdeci">static const char * DECLARE_TEXTURE_COORDINATES_IN_FRAG</div><div class="ttdoc">Declaring texture coordinates in fragment shader.</div><div class="ttdef"><b>Definition:</b> <a href="rendering__programs_8h_source.html#l00057">rendering_programs.h:57</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GraphicPipeline_html_a35ba2fda6ae8c0801353f986d363516b"><div class="ttname"><a href="classBeatmup_1_1GraphicPipeline.html#a35ba2fda6ae8c0801353f986d363516b">Beatmup::GraphicPipeline::getLimit</a></div><div class="ttdeci">int getLimit(Limit limit) const</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8cpp_source.html#l00936">pipeline.cpp:936</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GraphicPipeline_html_a9933727a56997806da4365de1243a3ffa4e7da8440d55e6d13d2b4ff211c458c2"><div class="ttname"><a href="classBeatmup_1_1GraphicPipeline.html#a9933727a56997806da4365de1243a3ffa4e7da8440d55e6d13d2b4ff211c458c2">Beatmup::GraphicPipeline::Limit::TEXTURE_IMAGE_UNITS</a></div><div class="ttdeci">@ TEXTURE_IMAGE_UNITS</div><div class="ttdoc">maximum number of texture units per fragment shader</div></div>
<div class="ttc" id="aclassBeatmup_1_1GraphicPipeline_html_a9933727a56997806da4365de1243a3ffacfa8b3cc9645c2e8a746e2ca887da7df"><div class="ttname"><a href="classBeatmup_1_1GraphicPipeline.html#a9933727a56997806da4365de1243a3ffacfa8b3cc9645c2e8a746e2ca887da7df">Beatmup::GraphicPipeline::Limit::FRAGMENT_UNIFORM_VECTORS</a></div><div class="ttdeci">@ FRAGMENT_UNIFORM_VECTORS</div><div class="ttdoc">maximum number of 4-dimensional uniform vectors per fragment shader</div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1AbstractOperation_html_ae9d2449c203a7f39c95af367b1aa8f01"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">Beatmup::NNets::AbstractOperation::getName</a></div><div class="ttdeci">std::string getName() const</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00242">operation.h:242</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1ActivationFunctionMixin_html_ae7070cf734331a0505c095121b93b691"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#ae7070cf734331a0505c095121b93b691">Beatmup::NNets::ActivationFunctionMixin::apply</a></div><div class="ttdeci">void apply(StringBuilder &amp;code, const char *inputVariable)</div><div class="ttdoc">Renders a GLSL code applying activation function to a specific variable and writing the result to gl_...</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00282">operation.cpp:282</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a1affc2a028c325910f1bcf2a6bf5ae4c"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">Beatmup::NNets::Conv2D::coeffs</a></div><div class="ttdeci">std::vector&lt; std::array&lt; float, 4 &gt; &gt; coeffs</div><div class="ttdoc">model data to pass to uniform variables, if used</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00080">conv2d.h:80</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a1e09de4396a1b13d95c3c82639f80087"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a1e09de4396a1b13d95c3c82639f80087">Beatmup::NNets::Conv2D::BIAS_CHUNK_SUFFIX</a></div><div class="ttdeci">static const char * BIAS_CHUNK_SUFFIX</div><div class="ttdoc">suffix added to the op name to get the bias chunk id in the model data</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00098">conv2d.h:98</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a5f47dc1b1a2c0e36ecc08b5be6bcf0fb"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb">Beatmup::NNets::Conv2D::FILTERS_CHUNK_SUFFIX</a></div><div class="ttdeci">static const char * FILTERS_CHUNK_SUFFIX</div><div class="ttdoc">suffix added to the op name to get the filters chunk id in the model data</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00097">conv2d.h:97</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a935a026ddb2490ea2623edb305ea6746"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">Beatmup::NNets::Conv2D::execOrder</a></div><div class="ttdeci">std::vector&lt; int &gt; execOrder</div><div class="ttdoc">execution order of GLSL programs</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00081">conv2d.h:81</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_aea056c9519beb2ddbe3da60acc41f0dc"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">Beatmup::NNets::Conv2D::residualInput</a></div><div class="ttdeci">Storage::View residualInput</div><div class="ttdoc">optional tensor to be added to the output before activation</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00077">conv2d.h:77</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_afb039b35b5972bff138b6dcfb5854c99"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#afb039b35b5972bff138b6dcfb5854c99">Beatmup::NNets::Conv2D::getIdx</a></div><div class="ttdeci">int getIdx(int output, int input, int x, int y) const</div><div class="ttdoc">Maps an (inputChannel, outputChannel, x, y) position to a linear coefficient index in the chunkfile.</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8h_source.html#l00087">conv2d.h:87</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_aa240b65f18f283ce63e932570b29658a"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">Beatmup::NNets::Size::volume</a></div><div class="ttdeci">int volume() const</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00079">storage.h:79</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a0f1036d4c88362a14a24f874766ce27f"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a0f1036d4c88362a14a24f874766ce27f">Beatmup::NNets::SpatialFilteringMixin::sample</a></div><div class="ttdeci">void sample(StringBuilder &amp;code, const char *inputName, const int inputIndex, const Point &amp;shift, const bool isFirstSample=true, const char *suffix=&quot;&quot;)</div><div class="ttdoc">Samples a neighborhood of a given texture.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00150">operation.cpp:150</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a1087c45c2b2aaf4bee734c2848654035"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a1087c45c2b2aaf4bee734c2848654035">Beatmup::NNets::SpatialFilteringMixin::sampleInline</a></div><div class="ttdeci">void sampleInline(StringBuilder &amp;code, const char *inputName, const int inputIndex, const IntPoint &amp;position, const Point &amp;shift, const char *suffix=&quot;&quot;)</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00174">operation.cpp:174</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a571654441a4e34f33834f29915d5276f"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a571654441a4e34f33834f29915d5276f">Beatmup::NNets::SpatialFilteringMixin::SAMPLE_ID_PREFIX</a></div><div class="ttdeci">static const char * SAMPLE_ID_PREFIX</div><div class="ttdoc">prefix of variables declaring a neighbor sample</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00285">operation.h:285</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a72e009005e1f14733e49d5f232f86c29"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a72e009005e1f14733e49d5f232f86c29">Beatmup::NNets::SpatialFilteringMixin::shift</a></div><div class="ttdeci">Point shift</div><div class="ttdoc">current static shift of the sampling position</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00275">operation.h:275</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a8c524d6257d887698cfee0c474981719"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8c524d6257d887698cfee0c474981719">Beatmup::NNets::SpatialFilteringMixin::writeHeader</a></div><div class="ttdeci">void writeHeader(StringBuilder &amp;code, bool useUniformShift)</div><div class="ttdoc">Writes out the very GLSL fragment shader header required for spatial neighborhood sampling.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00110">operation.cpp:110</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a8e25113fbbd896c92370477241740a85"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a8e25113fbbd896c92370477241740a85">Beatmup::NNets::SpatialFilteringMixin::getInputSamplingPos</a></div><div class="ttdeci">std::string getInputSamplingPos() const</div><div class="ttdoc">Retrieves input sampling point position for the current fragment.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00276">operation.cpp:276</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a9c2aff92ca042a73a15e340f98c98f4c"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a9c2aff92ca042a73a15e340f98c98f4c">Beatmup::NNets::SpatialFilteringMixin::declare</a></div><div class="ttdeci">void declare(StringBuilder &amp;code, const char *datatype, bool inlineSampling=false)</div><div class="ttdoc">Declares GLSL fragment shader main(..) code part required for spatial neighborhood sampling.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00119">operation.cpp:119</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_ac86b0e7ba47d61111edbb33f83a2c006"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ac86b0e7ba47d61111edbb33f83a2c006">Beatmup::NNets::SpatialFilteringMixin::useUniformShift</a></div><div class="ttdeci">bool useUniformShift</div><div class="ttdoc">if true, the sampling position can be shifted dynamically at every run</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00277">operation.h:277</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_a05fc8800b4a432e004d454becfb24d18"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a05fc8800b4a432e004d454becfb24d18">Beatmup::NNets::Storage::View::getTextureHeight</a></div><div class="ttdeci">int getTextureHeight() const</div><div class="ttdoc">Returns height in pixels of all the textures.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00375">storage.h:375</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_a501fe84c57e71bb48492d16b5e9333c7"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">Beatmup::NNets::Storage::View::getChannelOrigin</a></div><div class="ttdeci">IntPoint getChannelOrigin(int channel) const</div><div class="ttdoc">Returns origin in pixels of a given channel within the texture containing it.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8cpp_source.html#l00509">storage.cpp:509</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_a7b20afba1b7f257d822104696d4a43d8"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7b20afba1b7f257d822104696d4a43d8">Beatmup::NNets::Storage::View::getTextureSize</a></div><div class="ttdeci">IntPoint getTextureSize() const</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00377">storage.h:377</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_a7da12db5f1d311b3d6e262e9d04abb69"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">Beatmup::NNets::Storage::View::getSpatialSize</a></div><div class="ttdeci">IntPoint getSpatialSize() const</div><div class="ttdoc">Returns the spatial size (width and height) of the storage in pixels.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00389">storage.h:389</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_ac0cb2d8c34e20e16a85b52da855243d3"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#ac0cb2d8c34e20e16a85b52da855243d3">Beatmup::NNets::Storage::View::getTextureWidth</a></div><div class="ttdeci">int getTextureWidth() const</div><div class="ttdoc">Returns width in pixels of all the textures.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00370">storage.h:370</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1RuntimeError_html_a6133cd45c7bc6ac8c536ec9a98c38fcb"><div class="ttname"><a href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">Beatmup::RuntimeError::check</a></div><div class="ttdeci">static void check(const bool condition, const std::string &amp;message)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8h_source.html#l00064">exception.h:64</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1String_html"><div class="ttname"><a href="classBeatmup_1_1String.html">Beatmup::String</a></div><div class="ttdoc">StringBuilder including a string container.</div><div class="ttdef"><b>Definition:</b> <a href="string__builder_8h_source.html#l00083">string_builder.h:83</a></div></div>
<div class="ttc" id="aconv2d_8cpp_html_a3731c09ab20950d8a296810acf40fd35"><div class="ttname"><a href="conv2d_8cpp.html#a3731c09ab20950d8a296810acf40fd35">COEF_FMT</a></div><div class="ttdeci">#define COEF_FMT</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00029">conv2d.cpp:29</a></div></div>
<div class="ttc" id="aconv2d_8cpp_html_a5518d71dee963870201750c46fe0a9c5"><div class="ttname"><a href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a></div><div class="ttdeci">static const char * UNIFORM_COEFFICIENT</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00038">conv2d.cpp:38</a></div></div>
<div class="ttc" id="aconv2d_8cpp_html_a6a6c08188d6453a251dab92e24c34e0b"><div class="ttname"><a href="conv2d_8cpp.html#a6a6c08188d6453a251dab92e24c34e0b">COORD_FMT</a></div><div class="ttdeci">#define COORD_FMT</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00030">conv2d.cpp:30</a></div></div>
<div class="ttc" id="aconv2d_8cpp_html_abfbac65075e5d2e4badb9ff51c998895"><div class="ttname"><a href="conv2d_8cpp.html#abfbac65075e5d2e4badb9ff51c998895">UNIFORM_RESIDUAL_INPUT</a></div><div class="ttdeci">static const char * UNIFORM_RESIDUAL_INPUT</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00037">conv2d.cpp:37</a></div></div>
<div class="ttc" id="aconv2d_8cpp_html_adc6f49bc097d0ac952652f94619ba458"><div class="ttname"><a href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a></div><div class="ttdeci">static const char * UNIFORM_INPUT</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00036">conv2d.cpp:36</a></div></div>
<div class="ttc" id="anamespaceBeatmup_html_a83a45defc1146b69f9a30a84080fd8fb"><div class="ttname"><a href="namespaceBeatmup.html#a83a45defc1146b69f9a30a84080fd8fb">Beatmup::Point</a></div><div class="ttdeci">CustomPoint&lt; float &gt; Point</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00626">geometry.h:626</a></div></div>
<div class="ttc" id="anamespaceBeatmup_html_a868d54e92bf55c33ddddb7cf45b49e78"><div class="ttname"><a href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">Beatmup::IntPoint</a></div><div class="ttdeci">CustomPoint&lt; int &gt; IntPoint</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00629">geometry.h:629</a></div></div>
<div class="ttc" id="anamespacestd_html_a5a4db45d7ed51c579c765c50cabbcddb"><div class="ttname"><a href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">std::max</a></div><div class="ttdeci">CustomPoint&lt; numeric &gt; max(const CustomPoint&lt; numeric &gt; &amp;a, const CustomPoint&lt; numeric &gt; &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00728">geometry.h:728</a></div></div>
<div class="ttc" id="awrapper__audio_8cpp_html_a4cedb08d9eeefafad8492142d8c79212"><div class="ttname"><a href="wrapper__audio_8cpp.html#a4cedb08d9eeefafad8492142d8c79212">scale</a></div><div class="ttdeci">JNIEnv jlong jint jint jint jint jfloat scale</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__audio_8cpp_source.html#l00141">wrapper_audio.cpp:142</a></div></div>
<div class="ttc" id="awrapper__core_8cpp_html_a496ff2ea83c1aa7898a0f51df1f0fec5"><div class="ttname"><a href="wrapper__core_8cpp.html#a496ff2ea83c1aa7898a0f51df1f0fec5">b</a></div><div class="ttdeci">jobject jlong jint jint jint jint jint b</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00253">wrapper_core.cpp:253</a></div></div>
<div class="ttc" id="awrapper__core_8cpp_html_aa73bea5852488434301d3d1693ee3d13"><div class="ttname"><a href="wrapper__core_8cpp.html#aa73bea5852488434301d3d1693ee3d13">w</a></div><div class="ttdeci">jlong jstring jint jint jint jint w</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00355">wrapper_core.cpp:355</a></div></div>
<div class="ttc" id="awrapper__imag_8cpp_html_a858098f572fcf05498f1b3e6880931fc"><div class="ttname"><a href="wrapper__imag_8cpp.html#a858098f572fcf05498f1b3e6880931fc">getMapping</a></div><div class="ttdeci">layer getMapping().position.x</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__imag_8cpp_source.html#l00300">wrapper_imag.cpp:300</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a3509cdd99c0d11a50dea81c6d12acf30"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3509cdd99c0d11a50dea81c6d12acf30">&#9670;&nbsp;</a></span>execute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::execute </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1TaskThread.html">TaskThread</a> &amp;&#160;</td>
          <td class="paramname"><em>thread</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1GraphicPipeline.html">GraphicPipeline</a> &amp;&#160;</td>
          <td class="paramname"><em>gpu</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Executes the operation. </p>
<p>The operation should be prepared. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">thread</td><td>Calling CPU thread descriptor </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">gpu</td><td>A graphic pipeline instance </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a5e34161e9759eb354a31eab0741e4e4d">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00272">272</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                                                             {</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3d15044d59278321b2fb1e1a691d98f3">ready</a>)</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keywordflow">throw</span> NotReady(<span class="keyword">this</span>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160; </div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>((<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>) || (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>), <span class="stringliteral">&quot;Input is not provided to a Conv2D operation.&quot;</span>);</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>, <span class="stringliteral">&quot;Output is not provided to Conv2D operation &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>());</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#abc19f5020ed7c107bd910b43262b832e">getSize</a>() != <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#abc19f5020ed7c107bd910b43262b832e">getSize</a>())</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">throw</span> <a class="code" href="classBeatmup_1_1RuntimeError.html">RuntimeError</a>(<span class="stringliteral">&quot;Residual input size does not match the output size&quot;</span>);</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160; </div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="preprocessor">#ifdef BEATMUP_DEBUG</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#abc19f5020ed7c107bd910b43262b832e">getSize</a>() == <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">getOutputSize</a>(), <span class="stringliteral">&quot;Operation output storage size mismatch&quot;</span>);</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160; </div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="comment">// static program setup</span></div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a39def4433cae86f2d1d8b2c7e916c319">SpatialFilteringMixin::setup</a>(</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#af093b36d00c3c4500429405acb80140f">getWidth</a>()  : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#ac0cb2d8c34e20e16a85b52da855243d3">getTextureWidth</a>(),</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#a6822b9824997bd15ac1caa20277082c7">getHeight</a>() : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a05fc8800b4a432e004d454becfb24d18">getTextureHeight</a>()</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;    );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160; </div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    <span class="comment">// compute tex coords</span></div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">IntPoint</a> strides(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>);</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomPoint.html">IntPoint</a> inputTextureSize = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ?</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        <a class="code" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#af093b36d00c3c4500429405acb80140f">getWidth</a>(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#a6822b9824997bd15ac1caa20277082c7">getHeight</a>()) :</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <a class="code" href="classBeatmup_1_1CustomPoint.html">IntPoint</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.getTextureWidth(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.getTextureHeight());</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> || <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a33463ca05f1a7350abd3b9fbd709151f">isUniformShiftUsed</a>()) {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1CustomRectangle.html">IntRectangle</a> samplingArea = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ?</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">getSamplingArea</a>(<a class="code" href="namespaceBeatmup.html#a868d54e92bf55c33ddddb7cf45b49e78">IntPoint</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#af093b36d00c3c4500429405acb80140f">getWidth</a>(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#a6822b9824997bd15ac1caa20277082c7">getHeight</a>()), strides, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>) :</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">getSamplingArea</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>, 0, strides, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>);</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160; </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        gpu.<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a7483da87966ffc8ea53b218605d5b74e">setTextureCoordinates</a>(samplingArea, inputTextureSize, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">getSpatialSize</a>());</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;    }</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160; </div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> coeffsPerProgram = (int)(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>.size() / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>.size());</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> uniformsAreUsed = coeffsPerProgram &gt; 0;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160; </div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="comment">// for each output channel</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1Binder.html">Storage::Binder</a> <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(gpu);</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>.size(); ++i) {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> programNum = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>[i];</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">int</span> outputChannel = 4 * programNum;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160; </div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        <a class="code" href="classBeatmup_1_1GL_1_1RenderingProgram.html">GL::RenderingProgram</a>&amp; program = *<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a29b81c488bc32d6d64fefb77177fcd12">programs</a>[programNum];</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160; </div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>) {</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> channel = outputChannel;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160; </div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;            <span class="comment">// bind output to a program</span></div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> fast = <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>.begin(program, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>, outputChannel);</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160; </div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;            <span class="keywordflow">if</span> (!fast) {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                <span class="comment">// bind inputs</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>, outputChannel);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>)</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;                    <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>, <a class="code" href="conv2d_8cpp.html#abfbac65075e5d2e4badb9ff51c998895">UNIFORM_RESIDUAL_INPUT</a>, outputChannel);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;                <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#aa2a8ededd52b80db487f8fe9772d6765">SpatialFilteringMixin::setupProgram</a>(program);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;            }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160; </div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;            <span class="comment">// setup the remaining stuff</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a33463ca05f1a7350abd3b9fbd709151f">isUniformShiftUsed</a>())</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;                <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad9f66fec5e25059979070e0fe85c2d23">SpatialFilteringMixin::setUniformShift</a>(program, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(channel) - <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(0), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7b20afba1b7f257d822104696d4a43d8">getTextureSize</a>());</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;                gpu.<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a7483da87966ffc8ea53b218605d5b74e">setTextureCoordinates</a>(<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">getSamplingArea</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>, channel, strides, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>), inputTextureSize, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">getSpatialSize</a>());</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        }</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160; </div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;            <span class="comment">// bind output to a program</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> groupIdx = outputChannel * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>;</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> isSameGroup =  i &gt; 0 &amp;&amp; 4 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a935a026ddb2490ea2623edb305ea6746">execOrder</a>[i - 1] * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a> / <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a> == groupIdx;</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">bool</span> fast = <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>.begin(program, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>, outputChannel) &amp;&amp; isSameGroup;</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160; </div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> firstInputChannel = groupIdx * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>();</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;            <span class="keyword">const</span> <span class="keywordtype">int</span> lastInputChannel  = firstInputChannel + (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> ? 4 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>());</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160; </div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;            <span class="keywordflow">if</span> (!fast) {</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;                <span class="comment">// bind inputs</span></div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>)</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;                    <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(*<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>, <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>);</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;                <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> firstInputChannel = groupIdx * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>();</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;                    <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>[groupIdx], <a class="code" href="conv2d_8cpp.html#adc6f49bc097d0ac952652f94619ba458">UNIFORM_INPUT</a>);</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160; </div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>)</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                        <a class="code" href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>, <a class="code" href="conv2d_8cpp.html#abfbac65075e5d2e4badb9ff51c998895">UNIFORM_RESIDUAL_INPUT</a>, outputChannel);</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160; </div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a33463ca05f1a7350abd3b9fbd709151f">isUniformShiftUsed</a>())</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                        <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad9f66fec5e25059979070e0fe85c2d23">SpatialFilteringMixin::setUniformShift</a>(program, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(firstInputChannel) - <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a501fe84c57e71bb48492d16b5e9333c7">getChannelOrigin</a>(0), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7b20afba1b7f257d822104696d4a43d8">getTextureSize</a>());</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                        gpu.<a class="code" href="classBeatmup_1_1GraphicPipeline.html#a7483da87966ffc8ea53b218605d5b74e">setTextureCoordinates</a>(<a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">getSamplingArea</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>, firstInputChannel, strides, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>), inputTextureSize, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#a7da12db5f1d311b3d6e262e9d04abb69">getSpatialSize</a>());</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                }</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160; </div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                <span class="comment">// setup the remaining stuff</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <a class="code" href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#aa2a8ededd52b80db487f8fe9772d6765">SpatialFilteringMixin::setupProgram</a>(program);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;            }</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160; </div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;        <span class="comment">// update uniforms if needed</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordflow">if</span> (uniformsAreUsed)</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;            program.<a class="code" href="classBeatmup_1_1GL_1_1AbstractProgram.html#a80ec932ce9f730fb9e8cabd884175994">setVec4Array</a>(<a class="code" href="conv2d_8cpp.html#a5518d71dee963870201750c46fe0a9c5">UNIFORM_COEFFICIENT</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a1affc2a028c325910f1bcf2a6bf5ae4c">coeffs</a>[coeffsPerProgram * programNum].data(), coeffsPerProgram);</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160; </div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;        <span class="comment">// g-g-go</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;        program.<a class="code" href="classBeatmup_1_1GL_1_1RenderingProgram.html#ae30f95e7321285c7fa2edffd9987c585">blend</a>();</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    }</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1AbstractProgram_html_a80ec932ce9f730fb9e8cabd884175994"><div class="ttname"><a href="classBeatmup_1_1GL_1_1AbstractProgram.html#a80ec932ce9f730fb9e8cabd884175994">Beatmup::GL::AbstractProgram::setVec4Array</a></div><div class="ttdeci">void setVec4Array(const std::string &amp;name, const float *xyzw, const int length)</div><div class="ttdef"><b>Definition:</b> <a href="program_8cpp_source.html#l00466">program.cpp:466</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1RenderingProgram_html"><div class="ttname"><a href="classBeatmup_1_1GL_1_1RenderingProgram.html">Beatmup::GL::RenderingProgram</a></div><div class="ttdoc">GLSL program to render images Makes use of default vertex attributes to pass the texture coordinates ...</div><div class="ttdef"><b>Definition:</b> <a href="program_8h_source.html#l00240">program.h:240</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1RenderingProgram_html_ae30f95e7321285c7fa2edffd9987c585"><div class="ttname"><a href="classBeatmup_1_1GL_1_1RenderingProgram.html#ae30f95e7321285c7fa2edffd9987c585">Beatmup::GL::RenderingProgram::blend</a></div><div class="ttdeci">void blend(bool onScreen)</div><div class="ttdef"><b>Definition:</b> <a href="program_8cpp_source.html#l00548">program.cpp:548</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1TextureHandler_html_a6822b9824997bd15ac1caa20277082c7"><div class="ttname"><a href="classBeatmup_1_1GL_1_1TextureHandler.html#a6822b9824997bd15ac1caa20277082c7">Beatmup::GL::TextureHandler::getHeight</a></div><div class="ttdeci">virtual const int getHeight() const =0</div><div class="ttdoc">Height of the texture in pixels.</div></div>
<div class="ttc" id="aclassBeatmup_1_1GL_1_1TextureHandler_html_af093b36d00c3c4500429405acb80140f"><div class="ttname"><a href="classBeatmup_1_1GL_1_1TextureHandler.html#af093b36d00c3c4500429405acb80140f">Beatmup::GL::TextureHandler::getWidth</a></div><div class="ttdeci">virtual const int getWidth() const =0</div><div class="ttdoc">Width of the texture in pixels.</div></div>
<div class="ttc" id="aclassBeatmup_1_1GraphicPipeline_html_a7483da87966ffc8ea53b218605d5b74e"><div class="ttname"><a href="classBeatmup_1_1GraphicPipeline.html#a7483da87966ffc8ea53b218605d5b74e">Beatmup::GraphicPipeline::setTextureCoordinates</a></div><div class="ttdeci">void setTextureCoordinates(const Rectangle &amp;coords)</div><div class="ttdoc">Specifies texture coordinates for the next rendering pass.</div><div class="ttdef"><b>Definition:</b> <a href="pipeline_8cpp_source.html#l00966">pipeline.cpp:966</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a4f929f4a9627598a2ce4cf3b74421024"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">Beatmup::NNets::Conv2D::getOutputSize</a></div><div class="ttdeci">Size getOutputSize(int outputIndex=0) const</div><div class="ttdoc">Returns full size of a specific operation output.</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00397">conv2d.cpp:397</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a33463ca05f1a7350abd3b9fbd709151f"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a33463ca05f1a7350abd3b9fbd709151f">Beatmup::NNets::SpatialFilteringMixin::isUniformShiftUsed</a></div><div class="ttdeci">bool isUniformShiftUsed() const</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00394">operation.h:394</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_a39def4433cae86f2d1d8b2c7e916c319"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#a39def4433cae86f2d1d8b2c7e916c319">Beatmup::NNets::SpatialFilteringMixin::setup</a></div><div class="ttdeci">void setup(const int width, const int height)</div><div class="ttdoc">Prepares the spatial filtering operation execution.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00197">operation.cpp:197</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_aa2a8ededd52b80db487f8fe9772d6765"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#aa2a8ededd52b80db487f8fe9772d6765">Beatmup::NNets::SpatialFilteringMixin::setupProgram</a></div><div class="ttdeci">void setupProgram(GL::Program &amp;program)</div><div class="ttdoc">Prepares a given program for spatial filtering.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00217">operation.cpp:217</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_abe11d0fa79e7bb47932e2ab699ecf38e"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#abe11d0fa79e7bb47932e2ab699ecf38e">Beatmup::NNets::SpatialFilteringMixin::getSamplingArea</a></div><div class="ttdeci">IntRectangle getSamplingArea(const IntPoint &amp;size, const IntPoint &amp;stride, const Size::Padding padding) const</div><div class="ttdoc">Implements common padding policies by computing a rectangular area of positions the sampling kernel t...</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00223">operation.cpp:223</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1SpatialFilteringMixin_html_ad9f66fec5e25059979070e0fe85c2d23"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1SpatialFilteringMixin.html#ad9f66fec5e25059979070e0fe85c2d23">Beatmup::NNets::SpatialFilteringMixin::setUniformShift</a></div><div class="ttdeci">void setUniformShift(GL::Program &amp;program, const IntPoint &amp;shift, const IntPoint &amp;inputSize)</div><div class="ttdoc">Applies an offset to the sampling position at runtime.</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00209">operation.cpp:209</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1Binder_html"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1Binder.html">Beatmup::NNets::Storage::Binder</a></div><div class="ttdoc">Binding of different input/output storages/texture handlers to a GLSL program.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00419">storage.h:419</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_1_1View_html_abc19f5020ed7c107bd910b43262b832e"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage_1_1View.html#abc19f5020ed7c107bd910b43262b832e">Beatmup::NNets::Storage::View::getSize</a></div><div class="ttdeci">Size getSize() const</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00384">storage.h:384</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1RuntimeError_html"><div class="ttname"><a href="classBeatmup_1_1RuntimeError.html">Beatmup::RuntimeError</a></div><div class="ttdef"><b>Definition:</b> <a href="exception_8h_source.html#l00061">exception.h:61</a></div></div>
<div class="ttc" id="awrapper__imag_8cpp_html_a61f3123d0313dd77b3fa3aa457464907"><div class="ttname"><a href="wrapper__imag_8cpp.html#a61f3123d0313dd77b3fa3aa457464907">bind</a></div><div class="ttdeci">bitmap bind(jenv, jobj)</div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9e8fa555c3bdcdb6834ec2c929e187b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e8fa555c3bdcdb6834ec2c929e187b5">&#9670;&nbsp;</a></span>getInputPadding()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Conv2D::getInputPadding </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves minimum required size of zero padding for a given input. </p>
<p>Operations that sample a neighborhood of a pixel may need the input to be padded with zeros, if some of the neighboring samples fall out of the are containing data. In Beatmup the zero padding is handled by allocating a bigger input and putting zeros around the area that is actually filled with data. </p><dl class="section return"><dt>Returns</dt><dd>number of zero columns and rows to be added to the input area. </dd></dl>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a53f058bd2fa67a0d266c8a01af96121b">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00377">377</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;                                           {</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">return</span> (<a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 0 &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a> == <a class="code" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac706ffd80b0ad0a4ef605c581e95252b">Size::Padding::SAME</a>) ? <a class="code" href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">std::max</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0], <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[1]) / 2 : 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_a92ff42ecfb770dde9540a6aed170a36aac706ffd80b0ad0a4ef605c581e95252b"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36aac706ffd80b0ad0a4ef605c581e95252b">Beatmup::NNets::Size::Padding::SAME</a></div><div class="ttdeci">@ SAME</div><div class="ttdoc">operation output size matches its input size for unit strides</div></div>
<div class="ttc" id="awrapper__core_8cpp_html_a6d0b01a0115cc0fcc394f07c0d5a43d4"><div class="ttname"><a href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a></div><div class="ttdeci">jlong jint index</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00434">wrapper_core.cpp:434</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a9dd6cbe2216226c64c6640375a316aa3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9dd6cbe2216226c64c6640375a316aa3">&#9670;&nbsp;</a></span>getSampledChannels()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::getSampledChannels </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieves range of input features channels sampled at the same time for a specific input. </p>
<p>The operation would typically take the entire storage and sample it at once, if needed. If the number of textures in a storage exceeds the number of texture samplers that the GPU may use simultaneously, an exception occurs. This function provides the necessary information to limit the number of textures in the storage when allocating it. When the limit is reached, multiple channels are packed into a single texture in the storage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The input index. Expected to fall in the valid range, i.e. from zero to <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42192fc2c5d0d2d44488218228514125" title="Returns number of operation inputs.">getInputCount()</a> - 1 inclusive. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">min</td><td>The minimum number of channels that can be sampled at once </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">max</td><td>The maximum number of channels that can be sampled at once </td></tr>
  </table>
  </dd>
</dl>

<p>Implements <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#af8da2d0ec851f39c0a72d072fabeddd4">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00382">382</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;                                                                   {</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 0) {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <span class="comment">// main input: sampling an entire group at once</span></div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;        <a class="code" href="namespacestd.html#a3c5c7d7eaab4f8e67e2d0970121375dd">min</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? 3 : 4;</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">max</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? 3 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> ? 4 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>();</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 1) {</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="comment">// residual input: sampling 1 texture at once</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        <a class="code" href="namespacestd.html#a3c5c7d7eaab4f8e67e2d0970121375dd">min</a> = <a class="code" href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">max</a> = 4;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    }</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;        <a class="code" href="namespacestd.html#a3c5c7d7eaab4f8e67e2d0970121375dd">min</a> = <a class="code" href="namespacestd.html#a5a4db45d7ed51c579c765c50cabbcddb">max</a> = 0;</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;}</div>
<div class="ttc" id="anamespacestd_html_a3c5c7d7eaab4f8e67e2d0970121375dd"><div class="ttname"><a href="namespacestd.html#a3c5c7d7eaab4f8e67e2d0970121375dd">std::min</a></div><div class="ttdeci">CustomPoint&lt; numeric &gt; min(const CustomPoint&lt; numeric &gt; &amp;a, const CustomPoint&lt; numeric &gt; &amp;b)</div><div class="ttdef"><b>Definition:</b> <a href="geometry_8h_source.html#l00724">geometry.h:724</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aab6397dfe4ac043846a659c2ce64daa9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab6397dfe4ac043846a659c2ce64daa9">&#9670;&nbsp;</a></span>isBiasUsed()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Beatmup::NNets::Conv2D::isBiasUsed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00124">124</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a42192fc2c5d0d2d44488218228514125"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42192fc2c5d0d2d44488218228514125">&#9670;&nbsp;</a></span>getInputCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Beatmup::NNets::Conv2D::getInputCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns number of operation inputs. </p>
<p>Inputs are then indexed from zero to the returned value minus one inclusive. </p>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a2fa1adf7a02469b7b95176ca2f48b2db">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00126">126</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;{ <span class="keywordflow">return</span> 2; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ae31e2f7b75ad387e6cfdf2ede18e4b1a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae31e2f7b75ad387e6cfdf2ede18e4b1a">&#9670;&nbsp;</a></span>getOutputCount()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Beatmup::NNets::Conv2D::getOutputCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns number of operation outputs. </p>
<p>Outputs are then indexed from zero to the returned value minus one inclusive. </p>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a00f15838ea5e61bf8b7a048809814596">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00127">127</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{ <span class="keywordflow">return</span> 1; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="aa84c9c90b6e505f59827e0f6ba2838b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa84c9c90b6e505f59827e0f6ba2838b1">&#9670;&nbsp;</a></span>acceptsStorageInput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Beatmup::NNets::Conv2D::acceptsStorageInput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a> at a specific input. </p>
<p>Neural network operations may accept different kinds of data containers on inputs and outputs, namely <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a>, <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> and textures. This function is used to check whether a given operation accepts a storage view on input. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The input index. Expected to fall in the valid range, i.e. from zero to <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42192fc2c5d0d2d44488218228514125" title="Returns number of operation inputs.">getInputCount()</a> - 1 inclusive. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a8ed03e3e59c9307696a992ee4093cf4c">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00129">129</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;{ <span class="keywordflow">return</span> (<a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 0 &amp;&amp; !<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>) || <a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 1; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="ab3b74aea02c64f9181f550b118632904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3b74aea02c64f9181f550b118632904">&#9670;&nbsp;</a></span>acceptsStorageOutput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Beatmup::NNets::Conv2D::acceptsStorageOutput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a> at a specific output. </p>
<p>Neural network operations may accept different kinds of data containers on outputs and outputs, namely <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a>, <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> and textures. This function is used to check whether a given operation accepts a storage view on output. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The output index. Expected to fall in the valid range, i.e. from zero to <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ae31e2f7b75ad387e6cfdf2ede18e4b1a" title="Returns number of operation outputs.">getOutputCount()</a> - 1 inclusive. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a06a8f540d4a438c4bbae6f61ffa50fe4">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00130">130</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 0; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8ccf05551f316513ee7529d0e5d2ab15"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8ccf05551f316513ee7529d0e5d2ab15">&#9670;&nbsp;</a></span>acceptsTextureInput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Beatmup::NNets::Conv2D::acceptsTextureInput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns <code>true</code> if the operation can take a <a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> at a specific input. </p>
<p>Neural network operations may accept different kinds of data containers on inputs and outputs, namely <a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html" title="Maps a 3D tensor onto a storage.">Storage::View</a>, <a class="el" href="classBeatmup_1_1GL_1_1Vector.html" title="Real-valued vector usable by GPU.">GL::Vector</a> and textures. This function is used to check whether a given operation accepts a texture on input. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The input index. Expected to fall in the valid range, i.e. from zero to <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42192fc2c5d0d2d44488218228514125" title="Returns number of operation inputs.">getInputCount()</a> - 1 inclusive. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a035270fa25d29548b24bee5cefe694fb">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00131">131</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="wrapper__core_8cpp.html#a6d0b01a0115cc0fcc394f07c0d5a43d4">index</a> == 0 &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="a4f929f4a9627598a2ce4cf3b74421024"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f929f4a9627598a2ce4cf3b74421024">&#9670;&nbsp;</a></span>getOutputSize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1NNets_1_1Size.html">Size</a> Conv2D::getOutputSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outputIndex</em> = <code>0</code></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns full size of a specific operation output. </p>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a113bfa79f8044a080b38c8fd4912ea5c">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00397">397</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;                                                {</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="keywordflow">if</span> (outputIndex == 0) {</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;        <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>((<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>) || (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> &amp;&amp; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>),</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;            <span class="stringliteral">&quot;Input is not provided to Conv2D operation &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>());</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;        <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1NNets_1_1Size.html">Size</a> inputSize = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? <a class="code" href="classBeatmup_1_1NNets_1_1Size.html">Size</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#af093b36d00c3c4500429405acb80140f">getWidth</a>(), <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a>-&gt;<a class="code" href="classBeatmup_1_1GL_1_1TextureHandler.html#a6822b9824997bd15ac1caa20277082c7">getHeight</a>(), 3) : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a>.getSize();</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <span class="keyword">const</span> <a class="code" href="classBeatmup_1_1NNets_1_1Size.html">Size</a> <a class="code" href="wrapper__core_8cpp.html#ade6d6d18a46c8aa95eed5e179d003e45">result</a> = inputSize.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aea6e18a5677c3c8440ff9c9956c7dfba">transform</a>(</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>,</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1Size.html">Size</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>, <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>, 0),</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>,</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a></div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;        );</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(<a class="code" href="wrapper__core_8cpp.html#ade6d6d18a46c8aa95eed5e179d003e45">result</a>.volume() &gt; 0, <span class="stringliteral">&quot;Invalid (zero or negative) output size got in &quot;</span> + <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>());</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="wrapper__core_8cpp.html#ade6d6d18a46c8aa95eed5e179d003e45">result</a>;</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    }</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aaf38c9fe5b8313e4ff47ff420910ce70">Size::EMPTY</a>;</div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html">Beatmup::NNets::Size</a></div><div class="ttdoc">Operation 3D input/output size.</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00037">storage.h:37</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_aaf38c9fe5b8313e4ff47ff420910ce70"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#aaf38c9fe5b8313e4ff47ff420910ce70">Beatmup::NNets::Size::EMPTY</a></div><div class="ttdeci">static const Size EMPTY</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00050">storage.h:50</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Size_html_aea6e18a5677c3c8440ff9c9956c7dfba"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Size.html#aea6e18a5677c3c8440ff9c9956c7dfba">Beatmup::NNets::Size::transform</a></div><div class="ttdeci">Size transform(Size kernel, Size stride, Padding padding, int depth=0) const</div><div class="ttdoc">Computes operation output size in function of operation kernel, padding, stride and depth,...</div><div class="ttdef"><b>Definition:</b> <a href="storage_8cpp_source.html#l00058">storage.cpp:58</a></div></div>
<div class="ttc" id="awrapper__core_8cpp_html_ade6d6d18a46c8aa95eed5e179d003e45"><div class="ttname"><a href="wrapper__core_8cpp.html#ade6d6d18a46c8aa95eed5e179d003e45">result</a></div><div class="ttdeci">Beatmup::IntPoint result</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00256">wrapper_core.cpp:256</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a1c24f0d2377068ceb61fa86a24bd6bb8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c24f0d2377068ceb61fa86a24bd6bb8">&#9670;&nbsp;</a></span>getOutput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> Beatmup::NNets::Conv2D::getOutput </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>index</em> = <code>0</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a storage view bound to a specific operation output. </p>
<p>If no view is bound, returns empty view. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">index</td><td>The output index. Expected to fall in the valid range, i.e. from zero to <a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html#ae31e2f7b75ad387e6cfdf2ede18e4b1a" title="Returns number of operation outputs.">getOutputCount()</a> - 1 inclusive. </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a96105b18b65bc6fb036a16dae62f5692">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00135">135</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a>; }</div>
</div><!-- fragment -->
</div>
</div>
<a id="abc581e6fe56ce2b7fadeb9f6459406b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc581e6fe56ce2b7fadeb9f6459406b8">&#9670;&nbsp;</a></span>setInput() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::setInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputIndex</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a209f0906b3b6f2078dcaec4e91030c20">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00483">483</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                        {</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <a class="code" href="classBeatmup_1_1OutOfRange.html#ad9baf18a1cc4f9da186c27d278323ee3">OutOfRange::check</a>(inputIndex, 0, 1, <span class="stringliteral">&quot;Input index out of range: %d&quot;</span>);</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(view.getStorage().getPadding() &gt;= <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a9e8fa555c3bdcdb6834ec2c929e187b5">getInputPadding</a>(inputIndex), <span class="stringliteral">&quot;The storage has insufficient padding&quot;</span>);</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;    <span class="keywordflow">if</span> (inputIndex == 0) {</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;        <span class="keywordflow">if</span> (view) {</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;            <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>, <span class="stringliteral">&quot;An image is expected on input, but a tensor is passed&quot;</span>);</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;            <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(view.getDepth() == <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>() * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>, <span class="stringliteral">&quot;Tensor depth does not match kernel depth&quot;</span>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;            <span class="comment">// create group views</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;            <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.clear();</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a>)</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                <span class="keywordflow">for</span> (<span class="keywordtype">int</span> groupIdx = 0; groupIdx &lt; <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>; ++groupIdx) {</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> firstInputChannel = groupIdx * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>();</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;                    <span class="keyword">const</span> <span class="keywordtype">int</span> lastInputChannel  = firstInputChannel + (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a06723cca6e7440a75e34637408738eab">isDepthwise</a> ? 4 : <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>());</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;                    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.emplace_back(std::move(view), firstInputChannel, lastInputChannel - firstInputChannel);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;                }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;        }</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a> = std::move(view);</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;        this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    }</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;        <span class="keywordflow">if</span> (view) {</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;            <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(!<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>, <span class="stringliteral">&quot;Cannot use the residual input when an image is used as the main input&quot;</span>);</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;            <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(view.getDepth() == <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>, <span class="stringliteral">&quot;Residual input tensor depth does not match output depth&quot;</span>);</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        }</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a> = std::move(view);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    }</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_a9e8fa555c3bdcdb6834ec2c929e187b5"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#a9e8fa555c3bdcdb6834ec2c929e187b5">Beatmup::NNets::Conv2D::getInputPadding</a></div><div class="ttdeci">int getInputPadding(int index=0) const</div><div class="ttdoc">Retrieves minimum required size of zero padding for a given input.</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00377">conv2d.cpp:377</a></div></div>
<div class="ttc" id="aclassBeatmup_1_1OutOfRange_html_ad9baf18a1cc4f9da186c27d278323ee3"><div class="ttname"><a href="classBeatmup_1_1OutOfRange.html#ad9baf18a1cc4f9da186c27d278323ee3">Beatmup::OutOfRange::check</a></div><div class="ttdeci">static void check(const datatype value, const datatype min, const datatype max, const char *message)</div><div class="ttdef"><b>Definition:</b> <a href="exception_8h_source.html#l00086">exception.h:86</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a15b12ba3d4cf357c06a5d59557a62ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15b12ba3d4cf357c06a5d59557a62ad3">&#9670;&nbsp;</a></span>setInput() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::setInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>image</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inputIndex</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a2ca77c99cf6e1cca63bc270331dfdb8c">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00518">518</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;                                                             {</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span> (inputIndex == 0) {</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <a class="code" href="classBeatmup_1_1RuntimeError.html#a6133cd45c7bc6ac8c536ec9a98c38fcb">RuntimeError::check</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a>, <span class="stringliteral">&quot;Cannot use image as Conv2D input&quot;</span>);</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a> = &amp;image;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a209f0906b3b6f2078dcaec4e91030c20">AbstractOperation::setInput</a>(image, inputIndex);</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1AbstractOperation_html_a209f0906b3b6f2078dcaec4e91030c20"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a209f0906b3b6f2078dcaec4e91030c20">Beatmup::NNets::AbstractOperation::setInput</a></div><div class="ttdeci">virtual void setInput(Storage::View &amp;&amp;storage, int index=0)</div><div class="ttdef"><b>Definition:</b> <a href="operation_8cpp_source.html#l00052">operation.cpp:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a24035a1ecb97a014838601ef55381c06"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24035a1ecb97a014838601ef55381c06">&#9670;&nbsp;</a></span>setOutput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::setOutput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outputIndex</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ab88c8e180dd35c2bd25bf953250b78fa">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00512">512</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;                                                             {</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <a class="code" href="classBeatmup_1_1OutOfRange.html#ad9baf18a1cc4f9da186c27d278323ee3">OutOfRange::check</a>(outputIndex, 0, 0, <span class="stringliteral">&quot;Output index out of range: %d&quot;</span>);</div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    this-&gt;<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a> = std::move(storage);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a5bbf1a70f47b3fe50abd2391c724fa1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5bbf1a70f47b3fe50abd2391c724fa1d">&#9670;&nbsp;</a></span>serialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt; std::string, std::string &gt; Conv2D::serialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns a serialized representation of th operation;. </p>

<p>Implements <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#a2bb26e2f35e407f02b5c33d3557a705a">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00415">415</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                                     {</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="keywordflow">return</span> {</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        { <span class="stringliteral">&quot;_name&quot;</span>,              <a class="code" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#ae9d2449c203a7f39c95af367b1aa8f01">getName</a>() },</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        { <span class="stringliteral">&quot;_type&quot;</span>,              <span class="stringliteral">&quot;conv2d&quot;</span> },</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;        { <span class="stringliteral">&quot;kernel_size&quot;</span>,        <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>[0]) },</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        { <span class="stringliteral">&quot;input_channels&quot;</span>,     <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aecee36fdc18fa42ee59f4cff55bcec5d">getDepth</a>() * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>) },</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;        { <span class="stringliteral">&quot;output_channels&quot;</span>,    <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab5ccde68f01e7c1e111f4cf60105497d">numOutputChannels</a>) },</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        { <span class="stringliteral">&quot;stride&quot;</span>,             <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a42ea086a616a5f9865abdbe455b750f2">stride</a>) },</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        { <span class="stringliteral">&quot;padding&quot;</span>,            <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3553a2c50177e60430ba89804e23fe33">padding</a>) },</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        { <span class="stringliteral">&quot;use_bias&quot;</span>,           <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a3323bff963961004fbacfbb20f15fb68">useBias</a> ? <span class="stringliteral">&quot;true&quot;</span> : <span class="stringliteral">&quot;false&quot;</span> },</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        { <span class="stringliteral">&quot;groups&quot;</span>,             <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a291be2bd4398a01eaf3702ff954ffd20">numGroups</a>) },</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        { <span class="stringliteral">&quot;activation&quot;</span>,         <a class="code" href="namespacestd.html#a1172ea77e4f1327c086967b14089913f">std::to_string</a>(<a class="code" href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a5b11033fa09bbe86f04a2ff8ed6c63b9">activationFunc</a>) }</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    };</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1ActivationFunctionMixin_html_a5b11033fa09bbe86f04a2ff8ed6c63b9"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1ActivationFunctionMixin.html#a5b11033fa09bbe86f04a2ff8ed6c63b9">Beatmup::NNets::ActivationFunctionMixin::activationFunc</a></div><div class="ttdeci">const ActivationFunction activationFunc</div><div class="ttdef"><b>Definition:</b> <a href="operation_8h_source.html#l00417">operation.h:417</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="ae89faabaaa49706f9a4aaa9dbedc42e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae89faabaaa49706f9a4aaa9dbedc42e2">&#9670;&nbsp;</a></span>disconnect()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Conv2D::disconnect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Assigns empty inputs and outputs. </p>

<p>Implements <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#af7d487596cb5ba6c62e4fc68715f0ea6">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00474">474</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;                        {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a52479b1875b4bca25cf4f427b7623fac">inputImage</a> = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab96e60c5ecf42d5bd0ef7606a0d2d445">input</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Storage.html#a018ff8a950133459fda57a235706a80b">Storage::View</a>();</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Storage.html#a018ff8a950133459fda57a235706a80b">Storage::View</a>();</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a7f2954f532c1ba232ec582c807747bc6">output</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Storage.html#a018ff8a950133459fda57a235706a80b">Storage::View</a>();</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ab7b31c3a1ce6366bf24b0abb841aafac">groupViews</a>.clear();</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;}</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Storage_html_a018ff8a950133459fda57a235706a80b"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Storage.html#a018ff8a950133459fda57a235706a80b">Beatmup::NNets::Storage::View</a></div><div class="ttdeci">friend class View</div><div class="ttdef"><b>Definition:</b> <a href="storage_8h_source.html#l00135">storage.h:135</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="aa2bf015343ef38d30535ed71081cad7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2bf015343ef38d30535ed71081cad7c">&#9670;&nbsp;</a></span>setResidualInput()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Beatmup::NNets::Conv2D::setResidualInput </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>storage</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Connects a tensor to a residual input. </p>
<p>This input is optional. The tensor is added to the convolution result before the non-linear activation is applied. Its size must match the output size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">storage</td><td>A storage view containing the residual input tensor. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00151">151</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;{ <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#abc581e6fe56ce2b7fadeb9f6459406b8">setInput</a>(std::move(storage), 1); }</div>
<div class="ttc" id="aclassBeatmup_1_1NNets_1_1Conv2D_html_abc581e6fe56ce2b7fadeb9f6459406b8"><div class="ttname"><a href="classBeatmup_1_1NNets_1_1Conv2D.html#abc581e6fe56ce2b7fadeb9f6459406b8">Beatmup::NNets::Conv2D::setInput</a></div><div class="ttdeci">void setInput(Storage::View &amp;&amp;storage, int inputIndex=0)</div><div class="ttdef"><b>Definition:</b> <a href="conv2d_8cpp_source.html#l00483">conv2d.cpp:483</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="abda402bc27de42e37829fc5e3bb3db56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abda402bc27de42e37829fc5e3bb3db56">&#9670;&nbsp;</a></span>countMultiplyAdds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Conv2D::countMultiplyAdds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counts (approximate) number of multiply-adds used by this operation. </p>
<p>A single multiply-add is one multiplication and one addition. </p>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#aa2c3b595af47b458dfba7d64a87516a8">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00528">528</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                                              {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">getOutputSize</a>(0).<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>();</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a id="af5b4af450777c389c440074c94622dc4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af5b4af450777c389c440074c94622dc4">&#9670;&nbsp;</a></span>countTexelFetches()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unsigned long Conv2D::countTexelFetches </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Counts (approximate) number of texels fetches. </p>

<p>Reimplemented from <a class="el" href="classBeatmup_1_1NNets_1_1AbstractOperation.html#acac62790c0f442c4e7d09b5f66b67b78">Beatmup::NNets::AbstractOperation</a>.</p>

<p class="definition">Definition at line <a class="el" href="conv2d_8cpp_source.html#l00533">533</a> of file <a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                              {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <a class="code" href="wrapper__core_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> = <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">getOutputSize</a>(0).<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() / 4 * <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#ac5ece368e5f9f17b8eae0a4d659acefd">kernelSize</a>.<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() / (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a6afb59852ca72367f2538626a9605be0">useInputImage</a> ? 3 : 4);</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#aea056c9519beb2ddbe3da60acc41f0dc">residualInput</a>)</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <a class="code" href="wrapper__core_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a> += <a class="code" href="classBeatmup_1_1NNets_1_1Conv2D.html#a4f929f4a9627598a2ce4cf3b74421024">getOutputSize</a>(0).<a class="code" href="classBeatmup_1_1NNets_1_1Size.html#aa240b65f18f283ce63e932570b29658a">volume</a>() / 4;</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="wrapper__core_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;}</div>
<div class="ttc" id="awrapper__core_8cpp_html_ad43c3812e6d13e0518d9f8b8f463ffcf"><div class="ttname"><a href="wrapper__core_8cpp.html#ad43c3812e6d13e0518d9f8b8f463ffcf">count</a></div><div class="ttdeci">JNIEnv jlong jint jint count</div><div class="ttdef"><b>Definition:</b> <a href="wrapper__core_8cpp_source.html#l00287">wrapper_core.cpp:288</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a id="a52fee1ae59b110ddfa87c6add5d7ca85"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52fee1ae59b110ddfa87c6add5d7ca85">&#9670;&nbsp;</a></span>initDeserializer()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool Beatmup::NNets::Conv2D::initDeserializer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets up deserialization of the operation. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="ac5ece368e5f9f17b8eae0a4d659acefd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac5ece368e5f9f17b8eae0a4d659acefd">&#9670;&nbsp;</a></span>kernelSize</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html">Size</a> Beatmup::NNets::Conv2D::kernelSize</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00066">66</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="ab5ccde68f01e7c1e111f4cf60105497d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab5ccde68f01e7c1e111f4cf60105497d">&#9670;&nbsp;</a></span>numOutputChannels</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int Beatmup::NNets::Conv2D::numOutputChannels</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of output feature maps </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00067">67</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a291be2bd4398a01eaf3702ff954ffd20"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a291be2bd4398a01eaf3702ff954ffd20">&#9670;&nbsp;</a></span>numGroups</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int Beatmup::NNets::Conv2D::numGroups</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>number of convolution groups </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00068">68</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a42ea086a616a5f9865abdbe455b750f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42ea086a616a5f9865abdbe455b750f2">&#9670;&nbsp;</a></span>stride</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const int Beatmup::NNets::Conv2D::stride</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00069">69</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a3553a2c50177e60430ba89804e23fe33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3553a2c50177e60430ba89804e23fe33">&#9670;&nbsp;</a></span>padding</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classBeatmup_1_1NNets_1_1Size.html#a92ff42ecfb770dde9540a6aed170a36a">Size::Padding</a> Beatmup::NNets::Conv2D::padding</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00070">70</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a6afb59852ca72367f2538626a9605be0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6afb59852ca72367f2538626a9605be0">&#9670;&nbsp;</a></span>useInputImage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool Beatmup::NNets::Conv2D::useInputImage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>if <code>true</code>, input is the texture handler, not the view </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00071">71</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a06723cca6e7440a75e34637408738eab"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a06723cca6e7440a75e34637408738eab">&#9670;&nbsp;</a></span>isDepthwise</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool Beatmup::NNets::Conv2D::isDepthwise</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>if <code>true</code>, the convolution is depthwise, otherwise regular </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00072">72</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a3323bff963961004fbacfbb20f15fb68"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3323bff963961004fbacfbb20f15fb68">&#9670;&nbsp;</a></span>useBias</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const bool Beatmup::NNets::Conv2D::useBias</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>if <code>true</code>, the bias addition is enabled </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00073">73</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a3d15044d59278321b2fb1e1a691d98f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d15044d59278321b2fb1e1a691d98f3">&#9670;&nbsp;</a></span>ready</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Beatmup::NNets::Conv2D::ready</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00074">74</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="ab96e60c5ecf42d5bd0ef7606a0d2d445"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab96e60c5ecf42d5bd0ef7606a0d2d445">&#9670;&nbsp;</a></span>input</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> Beatmup::NNets::Conv2D::input</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00076">76</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a7f2954f532c1ba232ec582c807747bc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7f2954f532c1ba232ec582c807747bc6">&#9670;&nbsp;</a></span>output</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> Beatmup::NNets::Conv2D::output</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00076">76</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="aea056c9519beb2ddbe3da60acc41f0dc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aea056c9519beb2ddbe3da60acc41f0dc">&#9670;&nbsp;</a></span>residualInput</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a> Beatmup::NNets::Conv2D::residualInput</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>optional tensor to be added to the output before activation </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00077">77</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a52479b1875b4bca25cf4f427b7623fac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a52479b1875b4bca25cf4f427b7623fac">&#9670;&nbsp;</a></span>inputImage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classBeatmup_1_1GL_1_1TextureHandler.html">GL::TextureHandler</a>* Beatmup::NNets::Conv2D::inputImage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>input texture handler to be used instead input view </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00078">78</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a29b81c488bc32d6d64fefb77177fcd12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a29b81c488bc32d6d64fefb77177fcd12">&#9670;&nbsp;</a></span>programs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classBeatmup_1_1GL_1_1RenderingProgram.html">GL::RenderingProgram</a>*&gt; Beatmup::NNets::Conv2D::programs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>pointers to GLSL program, one per quad of output channels </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00079">79</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a1affc2a028c325910f1bcf2a6bf5ae4c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1affc2a028c325910f1bcf2a6bf5ae4c">&#9670;&nbsp;</a></span>coeffs</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="wrapper__core_8cpp.html#ae9303a139197a0e4d1e6ecc53598b305">std::array</a>&lt;float, 4&gt; &gt; Beatmup::NNets::Conv2D::coeffs</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>model data to pass to uniform variables, if used </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00080">80</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a935a026ddb2490ea2623edb305ea6746"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a935a026ddb2490ea2623edb305ea6746">&#9670;&nbsp;</a></span>execOrder</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; Beatmup::NNets::Conv2D::execOrder</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>execution order of GLSL programs </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00081">81</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="ab7b31c3a1ce6366bf24b0abb841aafac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab7b31c3a1ce6366bf24b0abb841aafac">&#9670;&nbsp;</a></span>groupViews</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="classBeatmup_1_1NNets_1_1Storage_1_1View.html">Storage::View</a>&gt; Beatmup::NNets::Conv2D::groupViews</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>views per convolution group </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00082">82</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a5f47dc1b1a2c0e36ecc08b5be6bcf0fb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f47dc1b1a2c0e36ecc08b5be6bcf0fb">&#9670;&nbsp;</a></span>FILTERS_CHUNK_SUFFIX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * Conv2D::FILTERS_CHUNK_SUFFIX = &quot;/w&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>suffix added to the op name to get the filters chunk id in the model data </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00097">97</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<a id="a1e09de4396a1b13d95c3c82639f80087"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e09de4396a1b13d95c3c82639f80087">&#9670;&nbsp;</a></span>BIAS_CHUNK_SUFFIX</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * Conv2D::BIAS_CHUNK_SUFFIX = &quot;/b&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>suffix added to the op name to get the bias chunk id in the model data </p>

<p class="definition">Definition at line <a class="el" href="conv2d_8h_source.html#l00098">98</a> of file <a class="el" href="conv2d_8h_source.html">conv2d.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>core/nnets/<a class="el" href="conv2d_8h_source.html">conv2d.h</a></li>
<li>core/nnets/<a class="el" href="conv2d_8cpp_source.html">conv2d.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceBeatmup.html">Beatmup</a></li><li class="navelem"><a class="el" href="namespaceBeatmup_1_1NNets.html">NNets</a></li><li class="navelem"><a class="el" href="classBeatmup_1_1NNets_1_1Conv2D.html">Conv2D</a></li>
    <li class="footer">Generated on Tue Nov 21 2023 13:54:28 for Beatmup by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
