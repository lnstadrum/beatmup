<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Beatmup Java package: Overview</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Beatmup Java package
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Overview </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a> Beatmup is an extensible asynchronous image and signal processing framework.</p>
<h2>Beatmup is for image processing, mainly.</h2>
<ul>
<li>It enables low-level user-defined processing tasks execution<ul>
<li>in parallel and using hardware acceleration for the maximum speed,</li>
<li>asynchronously, in an application-friendly fashion.</li>
</ul>
</li>
<li>It implements basic building blocks and predefined processing operations:<ul>
<li>Image resampling and geometric operations</li>
<li>Basic color filtering</li>
<li>Flood fill and contour extraction</li>
<li>Realtime rendering</li>
</ul>
</li>
</ul>
<h2>Beatmup runs quite everywhere.</h2>
<ul>
<li>Used in <b>linux</b>, <b>Windows</b> and <b>Android</b></li>
<li>Written in <b>C++11</b>, it has <b>Java</b> and <b>Python</b> bindings</li>
<li><b>Prebuilt Python packages</b> are available for x64 desktop Windows and Ubuntu-based linux distributions</li>
<li>Few to no dependencies: Beatmup is extremely easy to build for a different platform<ul>
<li>git, CMake and a C++ compiler is all you need</li>
<li>Beatmup compiles with gcc, clang and msvc</li>
</ul>
</li>
</ul>
<h2>Beatmup speeds up processing by using GPU regardless its vendor, price and release year.</h2>
<ul>
<li>It runs on<ul>
<li>desktop GPUs from mainstream vendors,</li>
<li>integrated desktop GPUs,</li>
<li>Android GPUs,</li>
<li>Raspberry Pi GPU (all models including Pi Zero W),</li>
<li>NVIDIA Jetson Nano,</li>
<li>...</li>
</ul>
</li>
<li>It uses the GPU for<ul>
<li><em>x2</em>, neural network-based image upscaling technique,</li>
<li>running inference of small user-defined neural nets,</li>
<li>applying user-defined GLSL shaders to process images,</li>
<li>realtime camera image processing in Android,</li>
<li>scene rendering and predefined image processing tasks.</li>
</ul>
</li>
</ul>
<h1>Highlights</h1>
<h2><em>x2</em>: a neural net-based image upscaler</h2>
<p>Beatmup is arguably the easiest way to get a fast hardware-accelerated neural network-based image superresolution running on any decent GPU. It does not provide a state-of-the-art PSNR score, but can run at a hundred of images per second on a desktop machine.</p>
<p>More details on the neural network design and the inference implementation: <a href="https://medium.com/analytics-vidhya/inferring-a-super-resolution-neural-network-on-raspberry-pi-gpu-89b5456d21ef">Inferring a super-resolution neural network on Raspberry Pi GPU</a></p>
<p>Update in 2.1 release: the fine-tuned version of the model (trained with multiple degradation kernels) achieves now 32.64 dB on DIV2K validation set compared to the initial score of 32.57 dB.</p>
<h1>Available resources</h1>
<h2>Docs</h2>
<ul>
<li>C++ documentation is available <a href="https://lnstadrum.github.io/beatmup/cpp/html">here</a>. This is the most extensive documentation, it also contains additional explanations that do not relate to a specific programming language:<ul>
<li><a href="https://lnstadrum.github.io/beatmup/cpp/html/ProgrammingModel.html">Programming model</a></li>
<li><a href="https://lnstadrum.github.io/beatmup/cpp/html/NNetsModuleOverview.html">NNets module overview</a></li>
</ul>
</li>
<li>Java package API documentation is <a href="https://lnstadrum.github.io/beatmup/java/html">here</a>.</li>
<li>Python documentation is <a href="https://lnstadrum.github.io/beatmup/python/python.html">here</a>.</li>
</ul>
<h2>C++</h2>
<p>There is a number of test apps showcasing the use of Beatmup with additional explanations in [apps](apps) folder. The code is in C++, but can be universally helpful. Few examples:</p><ul>
<li><a href="apps/shaderer/app.cpp">apps/shaderer</a> processes images with a custom GLSL fragment shader read from the standard input.</li>
<li><a href="apps/x2/app.cpp">apps/x2</a> is a test app for the <em>x2</em> neural net.</li>
<li><a href="apps/classify/app.cpp">apps/classify</a> is a dog image classifier, a variant of ResNeXt trained on a subset of ImageNet containing 120 classes of dogs and cats images. The inference is implemented with OpenGL shaders. Top-1 validation accuracy achieved on Raspberry Pi Zero W is 72.08%. Classifying a 385*385 image takes ~595 ms there.</li>
</ul>
<h2>Python</h2>
<p><a href="python/examples">python/examples</a> folder contains detailed examples of scripts using Beatmup in Python.</p><ul>
<li><a href="python/examples/cifar100.py">cifar100.py</a> explains how to train a neural net with TensorFlow/Keras, convert it into a Beatmup-compliant model and run its inference on CIFAR100 test set.</li>
<li><a href="python/examples/x2_superresolution.py">x2_superresolution.py</a> and <a href="python/examples/x2_superresolution_video.py">x2_superresolution_video.py</a> showcase applying x2 upsampling neural net to an image and a video.</li>
</ul>
<p>Unit tests in Python are available in <a href="python/tests/test.py">python/tests/test.py</a> and <a href="python/tests/test_nnets.py">python/tests/test_nnets.py</a>.</p>
<h2>Java (Android)</h2>
<p>An Android test app is available in <a href="android/app">android/app</a> folder. It consists of independent examples showing how to use Beatmup in Android.</p><ul>
<li><a href="android/app/src/main/java/xyz/beatmup/androidapp/samples/BasicCameraUse.java">BasicCameraUse.java</a> shows how to get the camera preview, apply a simple shader and display the result.</li>
<li><a href="android/app/src/main/java/xyz/beatmup/androidapp/samples/UpsamplingConvnetOnCamera.java">UpsamplingConvnetOnCamera.java</a> implements the application of x2 upsampling neural net to the camera preview.</li>
<li><a href="android/app/src/main/java/xyz/beatmup/androidapp/samples/DogClassifier.java">DogClassifier.java</a> implements the dog classifier taking the camera preview image as input.</li>
</ul>
<h1>Quick start: compiling Beatmup</h1>
<p>To get things running, make sure you have <em>git</em> and <em>CMake</em> installed, then pick one of the following copy-paste recipes.</p>
<h2>Linux</h2>
<p>Building <b>X2</b> app upscaling an image using a neural net inferred with OpenGL: </p><pre class="fragment">git clone https://github.com/lnstadrum/beatmup.git
cd beatmup
git submodule update --init --recursive
mkdir -p build &amp;&amp; cd build
cmake -DUSE_GLX=ON ..
make X2
</pre><ul>
<li>Try to use <code>-DUSE_OPENGL=ON</code> instead <code>-DUSE_GLX=ON</code> starting from a clean build folder if you run into trouble.</li>
<li><p class="startli">On <b>Raspberry Pi prior to series 4</b> use the EGL backend with following CMake command:</p>
<p class="startli"><code>cmake -DUSE_EGL=ON -DUSE_BRCM_LIBS=ON -DGLES_VERSION=20 ..</code></p>
</li>
</ul>
<p>More details on Raspberry Pi setup <a href="https://github.com/lnstadrum/beatmup/wiki/Compiling-Beatmup-on-Raspberry-Pi-prior-to-4">here</a>.</p>
<ul>
<li><p class="startli">On <b>Raspberry Pi 4</b> rather use the following CMake command:</p>
<p class="startli"><code>cmake -DUSE_EGL_DRM=ON -DGLES_VERSION=20 ..</code></p>
</li>
</ul>
<p>More details on Raspberry Pi 4 setup <a href="https://github.com/lnstadrum/beatmup/wiki/Compiling-Beatmup-on-Raspberry-Pi-4">here</a>.</p>
<p>Once the app is built, you can feed it with an image of your choice and get the upscaled result as follows: </p><pre class="fragment">./X2 &lt;your-image&gt;.bmp x2-result.bmp
</pre> <h2>Windows</h2>
<p>To build the <b>X2</b> app in Windows you may install <em>Visual Studio</em> and generate the VS solution as follows: </p><pre class="fragment">git clone https://github.com/lnstadrum/beatmup.git
cd beatmup
git submodule update --init --recursive
mkdir build &amp;&amp; cd build
cmake -DUSE_OPENGL=ON ..
</pre><p> Then open the *.sln* solution file in Visual Studio and build the executable.</p>
<h2>Android</h2>
<p>There is Android project containing a library and a test app modules (<em>lib</em> and <em>app</em>). To build them install Android Studio and Android NDK bundle, clone the repository and open the project situated in <em>android</em> folder in Android studio.</p>
<p>You can build an apk in a docker container as well. Having docker installed, you can run the following script to build <em>beatmupApp.apk</em> installation package which you may then copy to your Android phone and open it there to install the test app: </p><pre class="fragment">git clone https://github.com/lnstadrum/beatmup.git
cd beatmup
git submodule update --init --recursive
docker build -f dockerfiles/android.Dockerfile -t beatmup-android .
docker run -v $(pwd):/opt/android-build beatmup-android
</pre><h1>Quicker start with Python</h1>
<h2>Windows</h2>
<p>Prebuilt python packages are available in 64-bit Windows for Python versions from <b>3.6</b> to <b>3.11</b>: </p><pre class="fragment">python -m pip install --upgrade pip
python -m pip install beatmup
</pre> <h2>Ubuntu-based linux</h2>
<p>Prebuilt packages for x64 desktop Ubuntu-based linux distributions are available for downloading on the <a href="https://github.com/lnstadrum/beatmup/releases/">releases page</a>.</p>
<h2>Compiling Python package</h2>
<p>If there is no prebuilt package available for your platform/OS, you can easily build a Python wheel installable with <code>pip</code> on your own.</p>
<p>First, get the code and try to compile an app as explained above. Then in the repository root folder run </p><pre class="fragment">cd build
make beatmup
cd ../python
python3 setup.py bdist_wheel clean
</pre><p> The installation package is now available in <code>python/dist</code> folder. You can install it and make sure it works: </p><pre class="fragment">python3 -m pip install --no-index --find-links=dist beatmup
python3 -c "import beatmup; beatmup.say_hi()"
</pre><h1>Licence and contributions</h1>
<p>The project is licensed under the GNU GPL v3 licence.</p>
<p>The contributions are governed by the Contribution Licence Agreement (CLA). In short, under this Agreement you remain the copyright owner of your contribution, but you allow us to use and distribute your contribution under the terms of a possibly different licence.</p>
<p>If you want to contribute:</p><ul>
<li>make sure you own the copyright of your contribution,</li>
<li>raise a pull request,</li>
<li>send a signed CLA on <a href="#" onclick="location.href='mai'+'lto:'+'bea'+'tm'+'up.'+'im'+'agi'+'ng'+'@gm'+'ai'+'l.c'+'om'; return false;">beatm<span style="display: none;">.nosp@m.</span>up.i<span style="display: none;">.nosp@m.</span>magin<span style="display: none;">.nosp@m.</span>g@gm<span style="display: none;">.nosp@m.</span>ail.c<span style="display: none;">.nosp@m.</span>om</a>.</li>
</ul>
<p>Otherwise:</p><ul>
<li>raise an issue if you have a question or a feature request,</li>
<li>contact us by email. </li>
</ul>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Tue Nov 21 2023 13:54:29 for Beatmup Java package by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
